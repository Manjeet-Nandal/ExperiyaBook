{%extends "base.html"%}
{%block content%}
{% load static %}
<main class="app-main">
   <!-- .app-main -->
   <div class="wrapper">
      <!-- .wrapper -->
      <div class="page ">
         <!-- .page -->
         <div class="page-inner">
            <!-- .page-inner -->
            <header class="page-title-bar">
               <!-- .page-title-bar -->
               <!-- grid row -->
               <div class="row text-center text-sm-left">
                  <!-- grid column -->
                  <div class="col">
                     <h1 class="page-title"> Policy List 
                        <button type="button" class="btn btn-secondary btn-sm float-right" data-toggle="modal"
                           data-target="#mdlcolsetting" title="Column Setting"><i class="fa fa-cog"
                              aria-hidden="true"></i> Column Setting</button>
                     </h1>
                  </div>
                  <!-- /grid column -->
               </div>
               <!-- /grid row -->
            </header>
            <!-- .page-section -->
            <div class="page-section">
               <!-- .card -->
               <div class="card card-fluid">
                  <!-- .card-header -->
                  <div class="card-header">
                     <form id="frminslist">
                        <div class="row">
                           <div class="col-md-2 col-sm-12">
                              <div class="form-group">
                                 <select class="custom-select" name="period" id="select-period">
                                    <option value="today">Today</option>
                                    <option value="yesterday">Yesterday</option>
                                    <option value="this_month" selected="">This Month</option>
                                    <option value="last_month">Last Month</option>
                                    <option value="current_year">Current Year</option>
                                    <option value="custom">Custom</option>
                                 </select>
                              </div>
                           </div>
                           <div class="col-md-2 col-sm-12">
                              <div class="form-group">
                                 <input type="text" id="frmDate" data-alt-format="Y-m-d" data-date-format="d/m/Y"
                                    data-toggle="flatpickr" placeholder="DD-MM-YYYY"
                                    class="form-control flatpickr-input" disabled="" readonly="readonly">
                              </div>
                           </div>
                           <div class="col-md-2 col-sm-12">
                              <div class="form-group">
                                 <input type="text" id="toDate" data-alt-format="Y-m-d" data-date-format="d/m/Y"
                                    data-toggle="flatpickr" placeholder="DD-MM-YYYY"
                                    class="form-control datepicker flatpickr-input" disabled="" readonly="readonly">
                              </div>
                           </div>
                           <div class="col-md-3 col-sm-12">


                              {% comment %} <label>ALL AGENT<abbr title="Required" class="text-danger">*</abbr></label>
                              {% endcomment %}
                              <select name="service_provider" data-parsley-required-message="" class="custom-select"
                                 id="service_provider" data-parsley-required="true">

                                 <option value=""> All Agent </option>
                                 {%for value in datag%}
                                 <option value={{value.full_name}}>{{value.full_name}}</option>
                                 {%endfor%}
                                 {% comment %} <option value="4">Broker Indore</option>
                                 <option value="2">PolicyBazaar</option> {% endcomment %}
                              </select>
                           </div>


                           {% comment %} <div class="form-group">
                              <select id="agent" class="custom-select select2 select2-hidden-accessible" tabindex="-1"
                                 aria-hidden="true">
                                 {% comment %} <option value="">All Agent</option> {% endcomment %}
                                 {% comment %} {%for value in datag%}
                                 <option value={{value.full_name}}>{{value.full_name}}</option>
                                 {%endfor%}
                              </select>
                              <span class="select2 select2-container select2-container--default" dir="ltr"
                                 style="width: 100%;"><span class="selection"><span
                                       class="select2-selection select2-selection--single" role="combobox"
                                       aria-haspopup="true" aria-expanded="false" tabindex="0"
                                       aria-labelledby="select2-agent-container"><span
                                          class="select2-selection__rendered" id="select2-agent-container"
                                          title="All Agent">All Agent</span><span class="select2-selection__arrow"
                                          role="presentation"><b role="presentation"></b></span></span></span><span
                                    class="dropdown-wrapper" aria-hidden="true"></span></span>
                           </div> {% endcomment %}

                           <div class="col-md-3 col-sm-12">
                              <div class="form-group">
                                 <button type="button" id="filterlist" class="btn btn-secondary " title="Filter"><i
                                       class="fa fa-search" aria-hidden="true"></i> </button>
                                 <button type="button" id="btnreset" class="btn btn-secondary" title="Refresh"><i
                                       class="icofont icofont-refresh" aria-hidden="true"></i> </button>
                                 <button type="button" onclick="ExportToExcel('xlsx')" id="download_inslist"
                                    class="btn btn-secondary " title="Download"><i class="fa fa-download"
                                       aria-hidden="true"></i> </button>
                                 <button type="button" id="bulk_remove" class="btn btn-secondary" title="Delete"><i
                                       class="icofont icofont-trash" aria-hidden="true"></i> </button>
                                 <a href="#" class="no-wrap pl-0 morefilter" title="More Filter"><small>More
                                       Filter</small></a>
                              </div>
                           </div>
                        </div>
                        <div id="morefilter" class="row" style="display:none">
                           <div class="col-md-3 col-sm-12">
                              <div class="form-group">
                                 <select name="service_provider" data-parsley-required-message=""
                                    class="custom-select select2 select2-hidden-accessible" id="service_provider"
                                    data-parsley-required="true" tabindex="-1" aria-hidden="true">
                                    <option value=""> All Service Provider</option>
                                    <option value="14">CHOLA DIRECT</option>
                                    <option value="6">DELHI BAJAJ</option>


                                 </select>
                                 <span class="select2 select2-container select2-container--default" dir="ltr"
                                    style="width: 100%;"><span class="selection"><span
                                          class="select2-selection select2-selection--single" role="combobox"
                                          aria-haspopup="true" aria-expanded="false" tabindex="0"
                                          aria-labelledby="select2-service_provider-container"><span
                                             class="select2-selection__rendered" id="select2-service_provider-container"
                                             title=" All Service Provider"> All Service Provider</span><span
                                             class="select2-selection__arrow" role="presentation"><b
                                                role="presentation"></b></span></span></span><span
                                       class="dropdown-wrapper" aria-hidden="true"></span></span>
                              </div>
                           </div>
                           <div class="col-md-3 col-sm-12">
                              <select name="vehicle_category" data-parsley-required-message=""
                                 data-parsley-required="true" id="vehicle_category"
                                 class="select2 custom-select select2-hidden-accessible" tabindex="-1"
                                 aria-hidden="true">
                                 <option value="">All Vehicle Category</option>
                                 <option value="1">2w-bike</option>
                                 <option value="2">2w-scooter</option>
                                 <option value="3">Auto Gcv</option>
                                 <option value="4">Auto Pcv 3+1</option>

                              </select>
                              <span class="select2 select2-container select2-container--default" dir="ltr"
                                 style="width: 100%;"><span class="selection"><span
                                       class="select2-selection select2-selection--single" role="combobox"
                                       aria-haspopup="true" aria-expanded="false" tabindex="0"
                                       aria-labelledby="select2-vehicle_category-container"><span
                                          class="select2-selection__rendered" id="select2-vehicle_category-container"
                                          title="All Vehicle Category">All Vehicle Category</span><span
                                          class="select2-selection__arrow" role="presentation"><b
                                             role="presentation"></b></span></span></span><span class="dropdown-wrapper"
                                    aria-hidden="true"></span></span>
                           </div>
                        </div>
                     </form>
                  </div>
                  <!-- /.card-header -->
                  <!-- .card-body -->
                  <div class="card-body">
                     <!-- .table -->
                     <div class="table-responsive">
                        <div id="tblInsurance_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                           <div class="row">
                              <div class="col-sm-12 col-md-6">
                                 <div class="dataTables_length" id="tblInsurance_length">
                                    <label>
                                       Show
                                       <select name="tblInsurance_length" aria-controls="tblInsurance"
                                          class="custom-select">
                                          <option value="10">10</option>
                                          <option value="25">25</option>
                                          <option value="50">50</option>
                                          <option value="100">100</option>
                                       </select>
                                       entries
                                    </label>
                                 </div>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                 <div id="tblInsurance_filter" class="dataTables_filter"><label>Search:<input
                                          type="search" id="myInput" onkeyup="myFunction()" class="form-control"
                                          placeholder="" aria-controls="tblInsurance"></label></div>
                              </div>
                           </div>
                           <div class="table-responsive">
                              <div class="dataTables_scroll">
                                 <div class="dataTables_scrollHead"
                                    style="position: relative; border: 0px; width: 100%;">
                                    <div class="dataTables_scrollHeadInner"
                                       style="box-sizing: content-box; width: auto; padding-right: 0px;">
                                       <table
                                          class="table table-striped1 table-hover no-wrap table-bordered no-footer dataTable"
                                          aria-describedby="tblInsurance_info" role="grid"
                                          style="margin-left: 0px; width: 5774.97px;">

                                       </table>
                                    </div>
                                 </div>
                                 <div class="dataTables_scrollBody" style="position: relative;  width: 100%;">
                                    <table id="tblInsurance"
                                       class="table table-striped1 table-hover no-wrap table-bordered no-footer dataTable"
                                       aria-describedby="tblInsurance_info" role="grid" style="">

                                       <thead>
                                          <tr role="row">
                                             <th class="text-center sorting" tabindex="0" aria-controls="tblInsurance"
                                                rowspan="1" colspan="1" style="width: 83.2344px;"
                                                aria-label="Sr.No.: activate to sort column ascending">Sr.No.</th>
                                             <th class="text-center sorting_disabled" tabindex="0"
                                                aria-controls="tblInsurance" rowspan="1" colspan="1"
                                                style="width: 30px;" aria-label="">
                                                <input type="checkbox" class="checkbox" id="chkblkrm" />
                                             </th>

                                             <th class="sorting">Proposal No.</th>
                                             <th class="sorting">Policy No. </th>
                                             <th class="sorting">Insured Name</th>
                                             <th class="sorting">Insurer Name</th>
                                             <th class="sorting">Location</th>
                                             <th class="sorting">Product Name</th>
                                             <th class="sorting">Registration No.</th>
                                             <th class="sorting">RTO City</th>
                                             <th class="sorting">RTO State</th>
                                             <th class="sorting">Vehicle Makeby </th>
                                             <th class="sorting">Vehicle Model </th>
                                             <th class="sorting">Vehicle Catagory </th>
                                             <th class="sorting">Vehicle Fuel Type</th>
                                             <th class="sorting">Manufacture Year </th>
                                             <th class="sorting">Addon</th>
                                             <th class="sorting">NCB</th>
                                             <th class="sorting">Cubic Capacity</th>
                                             <th class="sorting">GVW</th>
                                             <th class="sorting">Seating Capacity</th>
                                             <th class="sorting">Coverage Type</th>
                                             <th class="sorting">Case Type</th>
                                             <th class="sorting">Risk Start Date</th>
                                             <th class="sorting">Risk End Date</th>
                                             <th class="sorting">Issue Date</th>
                                             <th class="sorting">Insured Age</th>
                                             <th class="sorting">Policy Term</th>
                                             <th class="sorting">Payment Mode</th>
                                             <th class="sorting">BQP</th>
                                             <th class="sorting">POS</th>
                                             <th class="sorting">Employee</th>
                                             <th class="sorting">Proposal</th>
                                             <th class="sorting">Mandate</th>
                                             <th class="sorting">OD</th>
                                             <th class="sorting">TP</th>
                                             <th class="sorting">TP / Terrorism</th>
                                             <th class="sorting">NET</th>
                                             <th class="sorting">GST</th>
                                             <th class="sorting">Total</th>  
                                             <th class="sorting">Policy</th>
                                             <th class="sorting">Previous Policy</th>
                                             <th class="sorting">Pan Card</th>
                                             <th class="sorting">Aadhar Card</th>
                                             <th class="sorting">Vehicle RC</th>
                                             <th class="sorting">Inspection Report</th>
                                             <th class="sorting">Action</th>

                                          </tr>
                                       </thead>

                                       <tbody>
                                          {%for value in data%}
                                          <tr role="row" class="odd">
                                             <td class="text-center">{{forloop.counter}}</td>
                                             <td class="text-center"><input type="checkbox" value="2479"
                                                   class="checkbox" id="chkblkrm1" /></td>

                                             <td>{{value.proposal_no}}</td>
                                             <td>
                                                <a href="" class="tile tile-img" target="_blank"><i
                                                      class="far fa-file-pdf text-danger"></i></a>
                                                <a href="/bima_policy/policy/policy_entrydata/{{value.policyid}}"
                                                   class="">{{value.policy_no}}</a>
                                             </td>
                                             <td>{{value.customer_name}}</td>
                                             <td>{{value.insurance_company}}</td>
                                             <td>{{value.location}}</td>
                                             <td>{{value.product_name}}</td>
                                             <td>{{value.registration_no}}</td>
                                             <td>{{value.rto_city}}</td>
                                             <td>{{value.rto_state}}</td>
                                             <td>{{value.vehicle_makeby}}</td>
                                             <td>{{value.vehicle_model}}</td>
                                             <td>{{value.vehicle_catagory}}</td>
                                             <td>{{value.vehicle_fuel_type}}</td>
                                             <td>{{value.mfg_year}}</td>
                                             <td>{{value.addon}}</td>
                                             <td>{{value.ncb}}</td>
                                             <td>{{value.cubic_capacity}}</td>
                                             <td>{{value.gvw}}</td>
                                             <td>{{value.seating_capacity}}</td>
                                             <td>{{value.coverage_type}}</td>
                                             <td>{{value.case_type}}</td>
                                             <td>{{value.risk_start_date}}</td>
                                             <td>{{value.risk_end_date}}</td>
                                             <td>{{value.issue_date}}</td>
                                             <td>{{value.insured_age}}</td>
                                             <td>{{value.policy_term}}</td>
                                             <td>{{value.payment_mode}}</td>
                                             <td>{{value.bqp}}</td>
                                             <td>{{value.pos}}</td>
                                             <td>{{value.employee}}</td>
                                             <td>{{value.proposal}}</td>
                                             <td>{{value.mandate}}</td>
                                             <td>{{value.OD_premium}}</td>
                                             <td>{{value.TP_premium}}</td>
                                             <td>{{value.TP_terrorism}}</td>
                                             <td>{{value.net}}</td>
                                             <td>{{value.GST}}</td>
                                             <td>{{value.total}}</td>
                                             <td>{{value.policy}}</td>
                                             <td>{{value.previous_policy}}</td>
                                             <td>{{value.pan_card}}</td>
                                             <td>{{value.aadhar_card}}</td>
                                             <td>{{value.vehicle_rc}}</td>
                                             <td>{{value.inspection_report}}</td>

                                             <td class="text-center">
                                                <form method="POST">
                                                   {% csrf_token %}
                                                   <a href="/bima_policy/policy/policy_entrydata/{{value.policyid}}"
                                                      class="mr-1 mt-1 btn btn-sm btn-icon btn-secondary" name="Edit">
                                                      <i class="fa fa-pencil-alt mt-2"></i>
                                                   </a>
                                                   <a href="{%url 'bima_policy:policy_delete' value.policyid %}"
                                                      name="Remove"
                                                      class="mr-1 mt-1 btn btn-sm btn-icon btn-secondary text-danger">
                                                      <i class="far fa-trash-alt mt-2"></i>
                                                   </a>

                                             </td>
                                          </tr>
                                          {% endfor %}
                                       </tbody>
                                    </table>
                                 </div>
                              </div>
                           </div>

                           <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                     </div>
                     <!-- /.page-section -->
                     <div class="modal fade" id="mdlrpolicy" data-backdrop="static" data-keyboard="false" tabindex="-1"
                        role="dialog" aria-labelledby="mdTitle1" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                           <div class="modal-content">
                              <div class="modal-header">
                                 <h5 id="mdTitle1" class="modal-title">Confirmation</h5>
                              </div>
                              <div class="modal-body">
                                 <p><i class="fa fa-question-circle text-red mr-1"></i> Do you want to permanently
                                    delete selected Insurance?</p>
                              </div>
                              <div class="modal-footer">
                                 <button type="button" class="btn btn-secondary w-100p" data-dismiss="modal">No</button>
                                 <button type="submit" id="remove" class="btn btn-primary w-100p">Yes</button>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="modal fade" id="mdlcpolicy" data-backdrop="static" data-keyboard="false" tabindex="-1"
                        role="dialog" aria-labelledby="mdTitle2" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                           <div class="modal-content">
                              <div class="modal-header">
                                 <h5 id="mdTitle2" class="modal-title">Cancel Policy</h5>
                              </div>
                              <form id="frmcancelp" data-parsley-validate="true" novalidate="">
                                 <div class="modal-body">
                                    <label>Cancel Remarks<abbr title="Required" class="text-danger">*</abbr></label>
                                    <textarea class="form-control" data-parsley-required="true"
                                       id="txtcancel_remakrs"></textarea>
                                 </div>
                                 <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary w-100p"
                                       data-dismiss="modal">No</button>
                                    <button type="submit" id="cancel" class="btn btn-danger w-100p">Cancel</button>
                                 </div>
                              </form>
                           </div>
                        </div>
                     </div>
                     <div class="modal fade" id="mdlcolsetting" data-backdrop="static" data-keyboard="false"
                        tabindex="-1" role="dialog" aria-labelledby="rtoModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                           <div class="modal-content">
                              <div class="modal-header">
                                 <h5 id="rtoModalLabel" class="modal-title"> Column Setting </h5>
                              </div>
                              <div class="modal-body modal-scroll">
                                 <ul class="disabled pl-0 mb-0">
                                    <li class="list-group-item disabled  bg-light">
                                       <i class="fa fa-ban drag-indicator-block"></i>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" checked="">
                                          <label class="custom-control-label"><small class="text">1)</small> Policy
                                             No.</label>
                                       </div>
                                    </li>
                                 </ul>
                                 <ul class="sortable-lists list-group list-group-flush list-group-bordered"
                                    data-toggle="sortable" data-group="pages">
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="2" value="1" checked="">
                                          <label class="custom-control-label" for="2"><small class="text">2)</small>
                                             REGISTRATION</label>
                                       </div>
                                       <input type="hidden" class="colval" value="REGISTRATION">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="3" value="1" checked="">
                                          <label class="custom-control-label" for="3"><small class="text">3)</small>
                                             ISSUE_DATE</label>
                                       </div>
                                       <input type="hidden" class="colval" value="ISSUE_DATE">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="4" value="1" checked="">
                                          <label class="custom-control-label" for="4"><small class="text">4)</small>
                                             RISK_DATE</label>
                                       </div>
                                       <input type="hidden" class="colval" value="RISK_DATE">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="5" value="1" checked="">
                                          <label class="custom-control-label" for="5"><small class="text">5)</small>
                                             POLICY_M</label>
                                       </div>
                                       <input type="hidden" class="colval" value="POLICY_MADE_BY">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="6" value="1" checked="">
                                          <label class="custom-control-label" for="6"><small class="text">6)</small>
                                             CANCEL_REMARKS</label>
                                       </div>
                                       <input type="hidden" class="colval" value="CANCEL_REMARKS">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="7" value="1" checked="">
                                          <label class="custom-control-label" for="7"><small class="text">7)</small>
                                             CUSTOMER</label>
                                       </div>
                                       <input type="hidden" class="colval" value="CUSTOMER">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="8" value="1" checked="">
                                          <label class="custom-control-label" for="8"><small class="text">8)</small>
                                             VEHICLE_CATEGORY</label>
                                       </div>
                                       <input type="hidden" class="colval" value="VEHICLE_CATEGORY">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="9" value="1" checked="">
                                          <label class="custom-control-label" for="9"><small class="text">9)</small>
                                             POLICY_PROVIDER</label>
                                       </div>
                                       <input type="hidden" class="colval" value="POLICY_PROVIDER">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="10" value="1" checked="">
                                          <label class="custom-control-label" for="10"><small class="text">10)</small>
                                             POLICY_PROVIDER_CODE</label>
                                       </div>
                                       <input type="hidden" class="colval" value="POLICY_PROVIDER_CODE">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="11" value="1" checked="">
                                          <label class="custom-control-label" for="11"><small class="text">11)</small>
                                             INSURANCE_COMPANY</label>
                                       </div>
                                       <input type="hidden" class="colval" value="INSURANCE_COMPANY">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="12" value="0">
                                          <label class="custom-control-label" for="12"><small class="text">12)</small>
                                             RTO</label>
                                       </div>
                                       <input type="hidden" class="colval" value="RTO">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="13" value="1" checked="">
                                          <label class="custom-control-label" for="13"><small class="text">13)</small>
                                             POLICY_TYPE</label>
                                       </div>
                                       <input type="hidden" class="colval" value="POLICY_TYPE">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="14" value="1" checked="">
                                          <label class="custom-control-label" for="14"><small class="text">14)</small>
                                             MANUFACTURE_YEAR</label>
                                       </div>
                                       <input type="hidden" class="colval" value="MANUFACTURE_YEAR">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="15" value="1" checked="">
                                          <label class="custom-control-label" for="15"><small class="text">15)</small>
                                             FUEL_TYPE</label>
                                       </div>
                                       <input type="hidden" class="colval" value="FUEL_TYPE">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="16" value="1" checked="">
                                          <label class="custom-control-label" for="16"><small class="text">16)</small>
                                             VEHICLE_OTHER_INFO</label>
                                       </div>
                                       <input type="hidden" class="colval" value="VEHICLE_OTHER_INFO">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="17" value="1" checked="">
                                          <label class="custom-control-label" for="17"><small class="text">17)</small>
                                             OD</label>
                                       </div>
                                       <input type="hidden" class="colval" value="OD">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="18" value="1" checked="">
                                          <label class="custom-control-label" for="18"><small class="text">18)</small>
                                             TP</label>
                                       </div>
                                       <input type="hidden" class="colval" value="TP">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="19" value="1" checked="">
                                          <label class="custom-control-label" for="19"><small class="text">19)</small>
                                             NET</label>
                                       </div>
                                       <input type="hidden" class="colval" value="NET">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="20" value="1" checked="">
                                          <label class="custom-control-label" for="20"><small class="text">20)</small>
                                             GST</label>
                                       </div>
                                       <input type="hidden" class="colval" value="GST">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="21" value="1" checked="">
                                          <label class="custom-control-label" for="21"><small class="text">21)</small>
                                             TOTAL_NET</label>
                                       </div>
                                       <input type="hidden" class="colval" value="TOTAL_NET">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="22" value="1" checked="">
                                          <label class="custom-control-label" for="22"><small class="text">22)</small>
                                             COMM</label>
                                       </div>
                                       <input type="hidden" class="colval" value="COMM">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="23" value="1" checked="">
                                          <label class="custom-control-label" for="23"><small class="text">23)</small>
                                             AGENT</label>
                                       </div>
                                       <input type="hidden" class="colval" value="AGENT">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="24" value="1" checked="">
                                          <label class="custom-control-label" for="24"><small class="text">24)</small>
                                             REMARKS</label>
                                       </div>
                                       <input type="hidden" class="colval" value="REMARKS">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="25" value="1" checked="">
                                          <label class="custom-control-label" for="25"><small class="text">25)</small>
                                             SELF_COMM.</label>
                                       </div>
                                       <input type="hidden" class="colval" value="SELF_COMM.">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="26" value="1" checked="">
                                          <label class="custom-control-label" for="26"><small class="text">26)</small>
                                             CREATED_ON</label>
                                       </div>
                                       <input type="hidden" class="colval" value="CREATED_ON">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="27" value="1" checked="">
                                          <label class="custom-control-label" for="27"><small class="text">27)</small>
                                             CANCEL_ON</label>
                                       </div>
                                       <input type="hidden" class="colval" value="CANCEL_ON">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="28" value="1" checked="">
                                          <label class="custom-control-label" for="28"><small class="text">28)</small>
                                             PREVIOUS_POLICY</label>
                                       </div>
                                       <input type="hidden" class="colval" value="PREVIOUS_POLICY">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="29" value="1" checked="">
                                          <label class="custom-control-label" for="29"><small class="text">29)</small>
                                             VEHICLE_RC</label>
                                       </div>
                                       <input type="hidden" class="colval" value="VEHICLE_RC">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="30" value="1" checked="">
                                          <label class="custom-control-label" for="30"><small class="text">30)</small>
                                             CASE_TYPE</label>
                                       </div>
                                       <input type="hidden" class="colval" value="CASE_TYPE">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="31" value="1" checked="">
                                          <label class="custom-control-label" for="31"><small class="text">31)</small>
                                             CHASIS_NO</label>
                                       </div>
                                       <input type="hidden" class="colval" value="CHASIS_NO">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="32" value="1" checked="">
                                          <label class="custom-control-label" for="32"><small class="text">32)</small>
                                             ENGINE_NO</label>
                                       </div>
                                       <input type="hidden" class="colval" value="ENGINE_NO">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="33" value="1" checked="">
                                          <label class="custom-control-label" for="33"><small class="text">33)</small>
                                             VEHICLE_MAKEBY</label>
                                       </div>
                                       <input type="hidden" class="colval" value="VEHICLE_MAKEBY">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="34" value="1" checked="">
                                          <label class="custom-control-label" for="34"><small class="text">34)</small>
                                             VEHICLE_MODEL</label>
                                       </div>
                                       <input type="hidden" class="colval" value="VEHICLE_MODEL">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="35" value="1" checked="">
                                          <label class="custom-control-label" for="35"><small class="text">35)</small>
                                             CPA</label>
                                       </div>
                                       <input type="hidden" class="colval" value="CPA">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="36" value="1" checked="">
                                          <label class="custom-control-label" for="36"><small class="text">36)</small>
                                             AGENT CALC.</label>
                                       </div>
                                       <input type="hidden" class="colval" value="AGENT CALC.">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="37" value="1" checked="">
                                          <label class="custom-control-label" for="37"><small class="text">37)</small>
                                             SELF_CALC.</label>
                                       </div>
                                       <input type="hidden" class="colval" value="SELF_CALC.">
                                    </li>
                                    <li class="list-group-item align-items-center drag-handle">
                                       <span class="drag-indicator"></span>
                                       <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" data-sort="checkbox"
                                             id="38" value="1" checked="">
                                          <label class="custom-control-label" for="38"><small class="text">38)</small>
                                             PAYMENT_MODE</label>
                                       </div>
                                       <input type="hidden" class="colval" value="PAYMENT_MODE">
                                    </li>
                                 </ul>
                              </div>
                              <div class="modal-footer">
                                 <button type="button" class="btn btn-secondary w-100p"
                                    data-dismiss="modal">Close</button>
                                 <button type="button" id="md-ilc-colUpdate"
                                    class="btn btn-primary w-100p">Save</button>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="modal fade" id="confirm-modal-remove" data-backdrop="static" data-keyboard="false"
                        tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                           <div class="modal-content">
                              <div class="modal-header">
                                 <h5 id="rtoModalLabel" class="modal-title"> Confirmation </h5>
                              </div>
                              <div class="modal-body">
                                 <div id="resbulkremove" class="d-none alert alert-danger">
                                    select atleast one action for remove
                                 </div>
                                 <p>You can also delete some part of the policy form, for that you have to select the
                                    part from the table given below.</p>
                                 <table class="table table-bordered">
                                    <tbody>
                                       <tr class="bg-light">
                                          <th colspan="2">Select</th>
                                       </tr>
                                       <tr>
                                          <td>Complete Policy Form</td>
                                          <td class="text-center"><input class="checkbox" type="checkbox"
                                                id="chkpolicy_form"></td>
                                       </tr>
                                       <tr>
                                          <td>Previous Policy PDF</td>
                                          <td class="text-center"><input class="checkbox" type="checkbox"
                                                data-remove-group="block-r" id="chkprevious_documents"></td>
                                       </tr>
                                       <tr>
                                          <td>Vehicle RC</td>
                                          <td class="text-center"><input class="checkbox" type="checkbox"
                                                data-remove-group="block-r" id="chkvehicle_rc"></td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <div class="modal-footer">
                                 <button type="button" class="btn btn-secondary w-100p"
                                    data-dismiss="modal">Close</button>
                                 <button type="button" id="mdlbtnblkremove"
                                    class="btn bg-red text-white w-100p">Remove</button>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- /.page-inner -->
               </div>
               <!-- /.page -->
            </div>
            <!-- /.wrapper -->
</main>
<!-- /.app-main -->
<div class="aside-backdrop"></div>
</div><!-- /.app -->
<div class="modal modal-alert fade" id="ModalAlertError" data-backdrop="static" tabindex="-1" role="dialog"
   aria-labelledby="ModalAlertErrorLabel" aria-hidden="true">
   <!-- .modal-dialog -->
   <div class="modal-dialog" role="document">
      <!-- .modal-content -->
      <div class="modal-content">
         <!-- .modal-header -->
         <div class="modal-header">
            <h5 class="modal-title">
               <i class="fa fa-exclamation-triangle text-red mr-1"></i> System Error
            </h5>
         </div>
         <!-- /.modal-header -->
         <!-- .modal-body -->
         <div class="modal-body">
            <p>The Code Execution cannot proceed due to system error, retry after refreshing the page if the error
               remains the same, you need to contact your Administrator immediately.</p>
         </div>
         <!-- /.modal-body -->
         <!-- .modal-footer -->
         <div class="modal-footer">
            <button type="button" class="btn btn-light" data-dismiss="modal">OK</button>
         </div>
         <!-- /.modal-footer -->
      </div>
      <!-- /.modal-content -->
   </div>
   <!-- /.modal-dialog -->
</div>
<script>
   function myFunction() {
      // Declare variables
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      table = document.getElementById("tbl");
      tr = table.getElementsByTagName("tr");

      // Loop through all table rows, and hide those who don't match the search query
      for (i = 0; i < tr.length; i++) {
         td = tr[i].getElementsByTagName("td")[4];
         if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
               tr[i].style.display = "";
            } else {
               tr[i].style.display = "none";
            }
         }
      }
   }
</script>
<!-- /.modal -->
<!-- BEGIN BASE JS -->
<!-- BEGIN BASE JS -->
<script src="{% static 'js/perfect-scrollbar.min.js'%}"></script>
{% comment %}
<script src="{%static 'js/jquery.min.js' %}"></script> {% endcomment %}
<script src="{%static 'js/popper.min.js' %}"></script>
<script src="{%static 'js/bootstrap.min.js' %}"></script> <!-- END BASE JS -->
<!-- BEGIN PLUGINS JS -->
<script src="{% static 'js/pace.min.js' %}"></script>
<script src="{% static 'js/stacked-menu.min.js' %}"></script>
<!-- END PLUGINS JS -->
<!-- Parsley -->
<script src="{%static 'js/parsley.js' %}"></script>
<!-- BEGIN THEME JS -->
<script src="{%static 'js/theme.js' %}"></script>
<script src="{%static 'js/toastr.min.js' %}"></script>
<script src="{%static 'js/flatpickr.min.js' %}"></script>
<script src="{%static 'js/select2.full.min.js' %}"></script>
<script src="{%static 'js/moment.js' %}"></script>
<script src="{%static 'js/mask-as-number.min.js' %}"></script>
<script src="{%static 'js/jquery.dataTables.min.js' %}"></script>
<script src="{%static 'js/dataTables.bootstrap.js' %}"></script>
<script src="{%static 'js/jquery.form.js' %}"></script>
<script src="{%static 'js/custom.min.js' %}"></script>
{% comment %}
<script src="{%static 'js/insurance.min.js' %}"></script> {% endcomment %}
<script src="{%static 'js/sortable.min.js' %}"></script>
<script>
   $(document).ready(function () {
      $(".morefilter").click(function () {
         $("#morefilter").toggle();
      });
      setDate('this_month', "#frmDate", "#toDate");
      generateTable();
      $('input[data-sort="checkbox"]').click(function () { 1 == $(this).prop("checked") ? $(this).val("1") : 0 == $(this).prop("checked") && $(this).val("0") });
      $("#md-ilc-colUpdate").click(function () { var e = $(this); btnBusy(e); var c = new Array; $("ul.sortable-lists li").each(function (e) { var t = $(this).find(".colval").val(), s = $(this).find(":checkbox").val(); c.push({ colName: t, order: e, isShow: s }) }), $.post("Submit", { request: "md-ilc-colUpdate", cols: c }, function (c) { try { obj = $.parseJSON(c), toastr[obj.status](obj.response), "success" == obj.status && setInterval(function () { window.location.reload() }, 2e3) } catch (e) { systemError() } btnFree(e) }) }), $(document).on("click", "#remove", function () { var e = $("a[data-trash='remove'].selected"); $.ajax({ type: "POST", url: "Submit", data: { request: "DeletePolicy", data: e.data("url") }, success: function (c) { try { obj = $.parseJSON(c), toastr[obj.status](obj.response), "success" == obj.status && ($(e).closest("tr").remove(), $("#mdlrpolicy").modal("hide")) } catch (e) { systemError() } } }) }), $(document).on("click", "#cancel", function () { var e = $("a[data-cancel='cancel'].selected"), c = $(this); $.ajax({ beforeSend: function () { if (!$("#frmcancelp").parsley().isValid()) return !1; btnBusy(c) }, type: "POST", url: "Submit", data: { request: "CancelPolicy", remarks: $("#txtcancel_remakrs").val(), data: e.data("url") }, success: function (e) { try { obj = $.parseJSON(e), toastr[obj.status](obj.response), "success" == obj.status && (generateTable(), $("#mdlcpolicy").modal("hide")) } catch (e) { systemError() } } }), btnFree(c) }), $("#tblInsurance tbody").on("click", "tr", function () { $(this).hasClass("selected") ? ($(this).find("input[type=checkbox]").eq(0).prop("checked", !1), $(this).removeClass("selected")) : ($(this).addClass("selected"), $(this).find("input[type=checkbox]").eq(0).prop("checked", !0)) }), $("#chkblkrm").click(function () { var e = this.checked; $("table#tblInsurance").find("tbody > tr").each(function () { e ? $(this).addClass("selected").find("input[type=checkbox]").eq(0).prop("checked", !0) : $(this).removeClass("selected").find("input[type=checkbox]").eq(0).prop("checked", !1) }) }), $("#chkpolicy_form").click(function () { var e = this.checked; $("input[data-remove-group='block-r']").each(function () { e ? $(this).eq(0).prop("checked", !0).prop("disabled", !0) : $(this).eq(0).prop("checked", !1).prop("disabled", !1) }) }), $("#bulk_remove").click(function () { var e = []; $("#tblInsurance td input[type=checkbox]:checked").each(function () { void 0 !== $(this).val() && e.push($(this).val()) }), e.length > 0 && $("#confirm-modal-remove").modal("show") }), $(document).on("click", "#mdlbtnblkremove", function () { var e = $(this), c = [], t = 0, s = 0, o = 0; $("#tblInsurance td input[type=checkbox]:checked").each(function () { void 0 !== $(this).val() && c.push($(this).val()) }), $("#chkpolicy_form").is(":checked") && (t = 1), $("#chkprevious_documents").is(":checked") && (s = 1), $("#chkvehicle_rc").is(":checked") && (o = 1), $.ajax({ beforeSend: function () { if (!$("input[data-remove-group='block-r']:checked").length > 0) return $("#resbulkremove").removeClass("d-none"), !1; $("#resbulkremove").addClass("d-none"), btnBusy(e) }, type: "POST", url: "Submit", data: { request: "PolicyBulkRemove", policies: c, policy_form: t, previous_documents: s, vehicle_rc: o }, success: function (e) { try { obj = $.parseJSON(e), toastr[obj.status](obj.response), "success" == obj.status && (generateTable(), $("#confirm-modal-remove").modal("hide"), $("#chkblkrm").prop("checked", !1), $("#chkpolicy_form").trigger("click")) } catch (e) { systemError() } } }), btnFree(e) });

   });
   function generateTable() {
      var frmDate = ($("#frmDate").val()) ? $("#frmDate").val() : '';
      var toDate = ($("#toDate").val()) ? $("#toDate").val() : '';
      var table = $('#tblInsurance');
      var configcol = [0, 7, 8, 9, 10, 11, 13, 14, 15];
      var r = 1;
      var sf = 18; if (r == 1) { sf = 21; configcol.push(16, 17, 18); }
      table.DataTable().clear().destroy();
      table.DataTable({
         "dom": "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>\n  <'table-responsive'tr>\n        <'row align-items-center'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 d-flex justify-content-end'p>>",
         "language": {
            paginate: {
               previous: '<i class="fa fa-lg fa-angle-left"></i>',
               next: '<i class="fa fa-lg fa-angle-right"></i>'
            },
            infoFiltered: ""
         },
         "order": [[0, "desc"]],
         "bLengthChange": true,
         "processing": false,
         "bServerSide": true,
         "bStateSave": false,
         "scrollX": true,
         "sAjaxSource": "getInsurance.php",
         /*"fixedColumns":   {
            leftColumns: 0,
            rightColumns: 1
         },*/
         "autoWidth": false,
         "scrollY": false,
         "scrollCollapse": true,
         "fnServerData": function (sSource, aoData, fnCallback, oSettings) {
            aoData.push({ "name": "frmDate", "value": frmDate });
            aoData.push({ "name": "toDate", "value": toDate });
            aoData.push({ "name": "agent", "value": $("#agent").val() });
            aoData.push({ "name": "sp", "value": $("#service_provider").val() });
            aoData.push({ "name": "vc", "value": $("#vehicle_category").val() });
            oSettings.jqXHR = $.ajax({
               "dataType": 'json',
               "url": sSource,
               "data": aoData,
               "success": function (data) { fnCallback(data) },
               "error": function (e) {
                  console.log(e.responseText);
               },
            });
         },
         "initComplete": function () {
            $(document).on('click', "a[data-trash='remove']", function () {
               $("#mdlrpolicy").modal('show');
               $("a[data-trash='remove']").removeClass('selected');
               $(this).addClass('selected');
            });
            $(document).on('click', "a[data-cancel='cancel']", function () {
               $("#mdlcpolicy").modal('show');
               $("a[data-cancel='cancel']").removeClass('selected');
               $(this).addClass('selected');
            });
         },
         "createdRow": function (row, data, dataIndex) {
            $(row).find('td:last').addClass('text-center');
            $(row).find('td:last').prev('td').addClass('text-center');
            if ($(data[(data.length) - 2]).html() == 'Cancelled') {
               $(row).addClass('text-red');
            }
         },
         "columnDefs": [
            { targets: [0], className: "text-center" },
            { targets: [1], className: "text-center", orderable: false },
         ],
      });
   }
</script>
<div class="flatpickr-calendar animate" tabindex="-1">
   <div class="flatpickr-months">
      <span class="flatpickr-prev-month">
         <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 17 17">
            <g></g>
            <path d="M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z"></path>
         </svg>
      </span>
      <div class="flatpickr-month">
         <div class="flatpickr-current-month">
            <select class="flatpickr-monthDropdown-months" tabindex="-1">
               <option class="flatpickr-monthDropdown-month" value="0" tabindex="-1">January</option>
               <option class="flatpickr-monthDropdown-month" value="1" tabindex="-1">February</option>
               <option class="flatpickr-monthDropdown-month" value="2" tabindex="-1">March</option>
               <option class="flatpickr-monthDropdown-month" value="3" tabindex="-1">April</option>
               <option class="flatpickr-monthDropdown-month" value="4" tabindex="-1">May</option>
               <option class="flatpickr-monthDropdown-month" value="5" tabindex="-1">June</option>
               <option class="flatpickr-monthDropdown-month" value="6" tabindex="-1">July</option>
               <option class="flatpickr-monthDropdown-month" value="7" tabindex="-1">August</option>
               <option class="flatpickr-monthDropdown-month" value="8" tabindex="-1">September</option>
               <option class="flatpickr-monthDropdown-month" value="9" tabindex="-1">October</option>
               <option class="flatpickr-monthDropdown-month" value="10" tabindex="-1">November</option>
               <option class="flatpickr-monthDropdown-month" value="11" tabindex="-1">December</option>
            </select>
            <div class="numInputWrapper"><input class="numInput cur-year" type="number" tabindex="-1" aria-label="Year"
                  max="2023"><span class="arrowUp"></span><span class="arrowDown"></span></div>
         </div>
      </div>
      <span class="flatpickr-next-month">
         <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 17 17">
            <g></g>
            <path d="M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z"></path>
         </svg>
      </span>
   </div>
   <div class="flatpickr-innerContainer">
      <div class="flatpickr-rContainer">
         <div class="flatpickr-weekdays">
            <div class="flatpickr-weekdaycontainer">
               <span class="flatpickr-weekday">
                  Sun</span><span class="flatpickr-weekday">Mon</span><span class="flatpickr-weekday">Tue</span><span
                  class="flatpickr-weekday">Wed</span><span class="flatpickr-weekday">Thu</span><span
                  class="flatpickr-weekday">Fri</span><span class="flatpickr-weekday">Sat
               </span>
            </div>
         </div>
         <div class="flatpickr-days" tabindex="-1">
            <div class="dayContainer"><span class="flatpickr-day prevMonthDay" aria-label="July 31, 2022"
                  tabindex="-1">31</span><span class="flatpickr-day " aria-label="August 1, 2022"
                  tabindex="-1">1</span><span class="flatpickr-day " aria-label="August 2, 2022"
                  tabindex="-1">2</span><span class="flatpickr-day " aria-label="August 3, 2022"
                  tabindex="-1">3</span><span class="flatpickr-day " aria-label="August 4, 2022"
                  tabindex="-1">4</span><span class="flatpickr-day " aria-label="August 5, 2022"
                  tabindex="-1">5</span><span class="flatpickr-day " aria-label="August 6, 2022"
                  tabindex="-1">6</span><span class="flatpickr-day " aria-label="August 7, 2022"
                  tabindex="-1">7</span><span class="flatpickr-day " aria-label="August 8, 2022"
                  tabindex="-1">8</span><span class="flatpickr-day " aria-label="August 9, 2022"
                  tabindex="-1">9</span><span class="flatpickr-day " aria-label="August 10, 2022"
                  tabindex="-1">10</span><span class="flatpickr-day " aria-label="August 11, 2022"
                  tabindex="-1">11</span><span class="flatpickr-day " aria-label="August 12, 2022"
                  tabindex="-1">12</span><span class="flatpickr-day " aria-label="August 13, 2022"
                  tabindex="-1">13</span><span class="flatpickr-day " aria-label="August 14, 2022"
                  tabindex="-1">14</span><span class="flatpickr-day " aria-label="August 15, 2022"
                  tabindex="-1">15</span><span class="flatpickr-day " aria-label="August 16, 2022"
                  tabindex="-1">16</span><span class="flatpickr-day " aria-label="August 17, 2022"
                  tabindex="-1">17</span><span class="flatpickr-day " aria-label="August 18, 2022"
                  tabindex="-1">18</span><span class="flatpickr-day " aria-label="August 19, 2022"
                  tabindex="-1">19</span><span class="flatpickr-day " aria-label="August 20, 2022"
                  tabindex="-1">20</span><span class="flatpickr-day " aria-label="August 21, 2022"
                  tabindex="-1">21</span><span class="flatpickr-day " aria-label="August 22, 2022"
                  tabindex="-1">22</span><span class="flatpickr-day " aria-label="August 23, 2022"
                  tabindex="-1">23</span><span class="flatpickr-day " aria-label="August 24, 2022"
                  tabindex="-1">24</span><span class="flatpickr-day today" aria-label="August 25, 2022"
                  aria-current="date" tabindex="-1">25</span><span class="flatpickr-day " aria-label="August 26, 2022"
                  tabindex="-1">26</span><span class="flatpickr-day " aria-label="August 27, 2022"
                  tabindex="-1">27</span><span class="flatpickr-day " aria-label="August 28, 2022"
                  tabindex="-1">28</span><span class="flatpickr-day " aria-label="August 29, 2022"
                  tabindex="-1">29</span><span class="flatpickr-day " aria-label="August 30, 2022"
                  tabindex="-1">30</span><span class="flatpickr-day " aria-label="August 31, 2022"
                  tabindex="-1">31</span><span class="flatpickr-day nextMonthDay" aria-label="September 1, 2022"
                  tabindex="-1">1</span><span class="flatpickr-day nextMonthDay" aria-label="September 2, 2022"
                  tabindex="-1">2</span><span class="flatpickr-day nextMonthDay" aria-label="September 3, 2022"
                  tabindex="-1">3</span><span class="flatpickr-day nextMonthDay" aria-label="September 4, 2022"
                  tabindex="-1">4</span><span class="flatpickr-day nextMonthDay" aria-label="September 5, 2022"
                  tabindex="-1">5</span><span class="flatpickr-day nextMonthDay" aria-label="September 6, 2022"
                  tabindex="-1">6</span><span class="flatpickr-day nextMonthDay" aria-label="September 7, 2022"
                  tabindex="-1">7</span><span class="flatpickr-day nextMonthDay" aria-label="September 8, 2022"
                  tabindex="-1">8</span><span class="flatpickr-day nextMonthDay" aria-label="September 9, 2022"
                  tabindex="-1">9</span><span class="flatpickr-day nextMonthDay" aria-label="September 10, 2022"
                  tabindex="-1">10</span></div>
         </div>
      </div>
   </div>
</div>
<div class="flatpickr-calendar animate showTimeInput" tabindex="-1">
   <div class="flatpickr-months">
      <span class="flatpickr-prev-month">
         <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 17 17">
            <g></g>
            <path d="M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z"></path>
         </svg>
      </span>
      <div class="flatpickr-month">
         <div class="flatpickr-current-month">
            <select class="flatpickr-monthDropdown-months" tabindex="-1">
               <option class="flatpickr-monthDropdown-month" value="0" tabindex="-1">January</option>
               <option class="flatpickr-monthDropdown-month" value="1" tabindex="-1">February</option>
               <option class="flatpickr-monthDropdown-month" value="2" tabindex="-1">March</option>
               <option class="flatpickr-monthDropdown-month" value="3" tabindex="-1">April</option>
               <option class="flatpickr-monthDropdown-month" value="4" tabindex="-1">May</option>
               <option class="flatpickr-monthDropdown-month" value="5" tabindex="-1">June</option>
               <option class="flatpickr-monthDropdown-month" value="6" tabindex="-1">July</option>
               <option class="flatpickr-monthDropdown-month" value="7" tabindex="-1">August</option>
            </select>
            <div class="numInputWrapper"><input class="numInput cur-year" type="number" tabindex="-1" aria-label="Year"
                  max="2022"><span class="arrowUp"></span><span class="arrowDown"></span></div>
         </div>
      </div>
      <span class="flatpickr-next-month flatpickr-disabled">
         <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 17 17">
            <g></g>
            <path d="M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z"></path>
         </svg>
      </span>
   </div>
   <div class="flatpickr-innerContainer">
      <div class="flatpickr-rContainer">
         <div class="flatpickr-weekdays">
            <div class="flatpickr-weekdaycontainer">
               <span class="flatpickr-weekday">
                  Sun</span><span class="flatpickr-weekday">Mon</span><span class="flatpickr-weekday">Tue</span><span
                  class="flatpickr-weekday">Wed</span><span class="flatpickr-weekday">Thu</span><span
                  class="flatpickr-weekday">Fri</span><span class="flatpickr-weekday">Sat
               </span>
               <script type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>
               <script>
                  function ExportToExcel(type, fn, dl) {
                     var elt = document.getElementById('tblInsurance');
                     var wb = XLSX.utils.table_to_book(elt, { sheet: "sheet1" });
                     return dl ?
                        XLSX.write(wb, { bookType: type, bookSST: true, type: 'base64' }) :
                        XLSX.writeFile(wb, fn || ('MySheetName.' + (type || 'xlsx')));
                  }
               </script>
               {%endblock%}