{%extends "base.html"%}

{%block content%}
{% load static %}

<main class="app-main">
   <div class="wrapper">
      <div class="page ">
         <div class="page-inner">
            <div class="ajax-progressBar">
               <div class="postProgress"></div>
            </div>
            <header class="page-title-bar">
               <div class="d-flex justify-content-between align-items-center">
                  <nav aria-label="breadcrumb">
                     <ol class="breadcrumb">
                        <li class="breadcrumb-item active">
                           <a href="list"><i class="breadcrumb-icon fa fa-angle-left mr-2"></i>Back</a>
                        </li>
                     </ol>
                  </nav>
               </div>
               <div class="row text-center text-sm-left">
                  <div class="col">
                     <h1 class="page-title"> {% if is_motor_form %} Motor Policy {% else %} Non-Motor Policy
                        {% endif %}<small class="text-muted"> All * marks Fields are
                           mandatory.
                        </small></h1>
                  </div>
               </div>
            </header>
            <div class="page-section">
               <div class="section-block">
                  <form id="frminsurance" method="post" enctype="multipart/form-data" {% if is_motor_form %}
                     action="{%url 'bima_policy:create_policy'%}" {% else %}
                     action="{%url 'bima_policy:create_policy_non_motor'%}" {% endif %}>
                     {%csrf_token%}

                     {% if is_motor_form %}

                     <div class="row">
                        <div class="col-lg-9 col-md-9 col-sm-12">
                           <div class="card">
                              <div class="card-body">
                                 <fieldset>
                                    <legend>Policy Details</legend>

                                    <div class="form-row">

                                       <div class="col-md-3 mb-4">
                                          <label>Vehicle Catagory <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="vehicle_catagory" id="vehicle_catagory" class="custom-select "
                                             required onchange="setCategoryOnChange()">
                                             <option value=""> -- Select Category -- </option>
                                             <!-- <option value="TWO WHEELER">TWO WHEELER</option>
                                             <option value="PRIVATE CAR">PRIVATE CAR</option>
                                             <option value="GCV-PUBLIC CARRIER OTHER THAN 3 W">GCV-PUBLIC CARRIER OTHER
                                                THAN 3 W</option>
                                             <option value="3 WHEELER PCV">3 WHEELER PCV</option>
                                             <option value="3 WHEELER GCV-PUBLIC CARRIER">3 WHEELER GCV-PUBLIC CARRIER
                                             </option>
                                             <option value="TAXI 4 WHEELER">TAXI 4 WHEELER</option>
                                             <option value="BUS AND OTHERS">BUS AND OTHERS</option>
                                             <option value="MISC-D SPECIAL VEHICLE">MISC-D SPECIAL VEHICLE</option>
                                             <option value="SCHOOL BUS-SCHOOL NAME">SCHOOL BUS-SCHOOL NAME</option>
                                             <option value="SCHOOL BUS-INDIVIDUAL NAME">SCHOOL BUS-INDIVIDUAL NAME
                                             </option> -->

                                             {%for value in data_vc%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="proposal_no">Proposal No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="proposal_no" id="proposal_no"
                                             style="text-transform: uppercase;" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="policy_no">Policy No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="policy_no" id="policy_no"
                                             style="text-transform: uppercase;" required>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="customer_name">Insured Name <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="customer_name"
                                             style="text-transform: uppercase;" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Insurer Name<abbr title="" class="text-danger">*</abbr></label>
                                          <select name="insurance_company" class="custom-select" id="insurance_company"
                                             required>
                                             <option value=""> -- Select Insurer -- </option>
                                             {%for value in data_ins%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Serving Office <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_name" class="custom-select" id="sp_name" required>
                                             <option value=""> -- Select Provider -- </option>
                                             {%for value in data_sp%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Office Code <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_brokercode" class="custom-select" id="sp_brokercode"
                                             required>
                                             <option value=""> -- Select Office Code -- </option>
                                            {%for value in data_bc%}
                                          <option value="{{value}}">{{value}}</option>
                                          {%endfor%}
                                          </select>
                                        
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="registration_no">Registration No. <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt">
                                             <input type="text" oninput="myFunction()" class="form-control" value=""
                                                placeholder="Minimum 8 Characters" id="registration_no"
                                                name="registration_no" maxlength="14" required
                                                style="text-transform: uppercase;">
                                             <div class="input-group-append">
                                                <span class="input-group-text" id="demo" placeholder="xxxx"></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>RTO State<abbr title="" class="text-danger">*</abbr></label>
                                          <select name="rto_state" class="custom-select" id="rto_state" required>
                                             <option value="">-- Select State --</option>
                                             <option value="Andama And Nicobar Island">Andama And Nicobar Island
                                             </option>
                                             <option value="Andhra Pradesh">Andhra Pradesh</option>
                                             <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                             <option value="Assam">Assam</option>
                                             <option value="Bihar">Bihar</option>
                                             <option value="Chandigarh">Chandigarh</option>
                                             <option value="Chattisgarh">Chattisgarh</option>
                                             <option value="Daman And Diu">Daman And Diu</option>
                                             <option value="Delhi">Delhi</option>
                                             <option value="Goa">Goa</option>
                                             <option value="Gujrat">Gujrat</option>
                                             <option value="Haryana">Haryana</option>
                                             <option value="Himachal Pradesh">Himachal Pradesh</option>
                                             <option value="Jammu And Kashmir">Jammu And Kashmir</option>
                                             <option value="Jharkhand">Jharkhand</option>
                                             <option value="Karnataka">Karnataka</option>
                                             <option value="Kerala">Kerala</option>
                                             <option value="Lakshadweep">Lakshadweep</option>
                                             <option value="Leh">Leh</option>
                                             <option value="Madhya Pradesh">Madhya Pradesh</option>
                                             <option value="Maharashtra">Maharashtra</option>
                                             <option value="Manipur">Manipur</option>
                                             <option value="Meghalaya">Meghalaya</option>
                                             <option value="Mizoram">Mizoram</option>
                                             <option value="Nagaland">Nagaland</option>
                                             <option value="NCR">NCR</option>
                                             <option value="Odisha">Odisha</option>
                                             <option value="Puducherry">Puducherry</option>
                                             <option value="Punjab">Punjab</option>
                                             <option value="Rajasthan">Rajasthan</option>
                                             <option value="Sikkim">Sikkim</option>
                                             <option value="Tamil Nadu">Tamil Nadu</option>
                                             <option value="Telangana">Telangana</option>
                                             <option value="Tripura">Tripura</option>
                                             <option value="Uttar Pradesh">Uttar Pradesh</option>
                                             <option value="Uttrakhand">Uttrakhand</option>
                                             <option value="West Bengal">West Bengal</option>
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="rto_city">RTO City <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="rto_city" style="text-transform: uppercase;"
                                             required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label> Vehicle Make By <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="vehicle_makeby" class="custom-select" required>
                                             <option value="">-- Select Make --</option>
                                             {%for value in data_vmb%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <!-- <div class="col-md-3 mb-4">
                                          <label for="vehicle_makeby">Vehicle Make <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="vehicle_makeby"
                                             style="text-transform: uppercase;" required>
                                       </div> -->
                                       <div class="col-md-3 mb-4">
                                          <label>Vehicle Model <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="vehicle_model" class="custom-select" required>
                                             <option value="">-- Select Model --</option>
                                             {%for value in data_vm%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>

                                       <!-- <div class="col-md-3 mb-4">
                                          <label for="vehicle_model">Vehicle Model <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="vehicle_model"
                                             style="text-transform: uppercase;" required>
                                       </div> -->

                                       <div class="col-md-3 mb-4">
                                          <label>Vehicle Fuel Type <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="vehicle_fuel_type" class="custom-select" required>
                                             <option value="">-- Select Fuel Type --</option>
                                             <option value="PETROL">PETROL</option>
                                             <option value="DIESEL">DIESEL</option>
                                             <option value="CNG">CNG</option>
                                             <option value="ELECTRIC">ELECTRIC</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="mfg_year">Manufacture Year <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <select name="mfg_year" class="custom-select" required>
                                             <option value="">-- Select Year --</option>
                                             <option value="2025">2025</option>
                                             <option value="2024">2024</option>
                                             <option value="2023">2023</option>
                                             <option value="2022">2022</option>
                                             <option value="2021">2021</option>
                                             <option value="2020">2020</option>
                                             <option value="2019">2019</option>
                                             <option value="2018">2018</option>
                                             <option value="2017">2017</option>
                                             <option value="2016">2016</option>
                                             <option value="2015">2015</option>
                                             <option value="2014">2014</option>
                                             <option value="2013">2013</option>
                                             <option value="2012">2012</option>
                                             <option value="2011">2011</option>
                                             <option value="2010">2010</option>
                                             <option value="2009">2009</option>
                                             <option value="2008">2008</option>
                                             <option value="2007">2007</option>
                                             <option value="2006">2006</option>
                                             <option value="2005">2005</option>
                                             <option value="2004">2004</option>
                                             <option value="2003">2003</option>
                                             <option value="2002">2002</option>
                                             <option value="2001">2001</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Addon <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="addon" class="custom-select" required>
                                             <option value="">-- Select Addon --</option>
                                             <option value="YES">YES</option>
                                             <option value="NO">NO</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>NCB <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="ncb" class="custom-select" required>
                                             <option value="">-- Select NCB --</option>
                                             <option value="YES">YES</option>
                                             <option value="NO">NO</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4" id="cubic_capacityDiv">
                                          <label>Cubic Capacity<abbr class="text-danger">*</abbr></label>
                                          <select name="cubic_capacity" class="custom-select" id="cubic_capacity"
                                             required>
                                             <option value=""> -- Select Capacity -- </option>
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4" id="gvwDiv">
                                          <label>GVW<abbr class="text-danger">*</abbr></label>
                                          <select name="gvw" class="custom-select" id="gvw" required>
                                             <option value=""> -- Select GVW -- </option>
                                             <option value="BELOW 2000">BELOW 2000</option>
                                             <option value="2000-2500">2000-2500</option>
                                             <option value="2500-3500">2500-3500</option>
                                             <option value="3500-7000">3500-7000</option>
                                             <option value="7000-7500">7000-7500</option>
                                             <option value="7500-12000">7500-12000</option>
                                             <option value="12000-25000">12000-25000</option>
                                             <option value="25000-40000">25000-40000</option>
                                             <option value="ABOVE 40000">ABOVE 40000</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4" id="seating_capacityDiv">
                                          <label>Seating Capacity<abbr class="text-danger">*</abbr></label>
                                          <select name="seating_capacity" type="input" class="custom-select"
                                             id="seating_capacity" required>
                                             <option value=""> -- Select Seating Capacity -- </option>
                                             <option value="BELOW 5">BELOW 5</option>
                                             <option value="5-7">5-7</option>
                                             <option value="7-12">7-12</option>
                                             <option value="12-18">12-18</option>
                                             <option value="ABOVE 18">ABOVE 18</option>
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4" id="seating_capacityDiv1" hidden>
                                          <label for="seating_capacity1">Seating Capacity <abbr
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control col-lg-6 maskNumField" name="seating_capacity1"
                                             id="seating_capacity1" maxlength="2" required
                                             oninput="addSeatingCapacity()">
                                       </div>

                                       <div class="col-md-3 mb-4" id="coverage_typeDiv">
                                          <label>Coverage Type <abbr class="text-danger">*</abbr></label>
                                          <select name="coverage_type" id="coverage_type" class="custom-select"
                                             required>
                                             <option value="">-- Select Coverage --</option>
                                             <option value="NA"> NA </option>
                                             <!-- {% for value in data_ct%}
                                             <option value="{{value}}">{{value}}</option>
                                             {% endfor%} -->
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Policy Type <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="policy_type" id="policy_type" class="custom-select" required>
                                             <option value="">-- Select Policy Type --</option>
                                             <option value="FRESH">FRESH</option>
                                             <option value="RENEWAL">RENEWAL</option>
                                             <option value="ROLLOVER">ROLLOVER</option>
                                             <option value="ENDORSEMENT">ENDORSEMENT</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>CPA <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="cpa" class="custom-select" required>
                                             <option value="">-- Select CPA --</option>
                                             <option value="YES">YES</option>
                                             <option value="NO">NO</option>
                                          </select>
                                       </div>


                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk Start Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_start_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk End Date <abbr title="Required"
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_end_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Issued Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="issue_flatpickr" data-wrap="true" data-alt-input="true"
                                             ata-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="issue_date" required
                                                data-input="">
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="insured_age">Insured Age <abbr title=""
                                                class="text-danger">*</abbr></label><input type="number" value=""
                                             class="form-control" name="insured_age" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Policy Term <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="policy_term" class="custom-select" required>
                                             <option value="">-- Select Term --</option>
                                             <option value="1">1</option>
                                             <option value="2">2</option>
                                             <option value="3">3</option>
                                             <option value="4">4</option>
                                             <option value="5">5</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>BQP <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="bqp" class="custom-select" required>
                                             <option value="">-- Select BQP --</option>
                                             {%for value in data_bqp%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="pos">POS <abbr title="" class="text-danger">*</abbr></label><input
                                             id="pos" type="text" value="" data-toggle="modal" 
                                             data-target="#mdlcolsetting" class="form-control" name="pos"
                                             style="text-transform: uppercase;" required readonly>
                                       </div>


                                       <div class="modal fade" id="mdlcolsetting" data-backdrop="static"
                                          data-keyboard="false" style="height: 400px" tabindex="-1" role="dialog"
                                          aria-labelledby="rtoModalLabel" aria-hidden="true">
                                          <div class="modal-dialog" role="document">
                                             <div class="modal-content">
                                                <div class="modal-header">
                                                   <h5 id="rtoModalLabel" class="modal-title"> Search POS </h5>
                                                </div>
                                                <div class="modal-body ">
                                                   <div class="form-row">
                                                      <div class="col-md-6 mb-4">
                                                         <div class=""><label>Search:<input id="inp_search" type="text"
                                                                  value="" class="form-control" name="agent"
                                                                  style="text-transform: uppercase;" required
                                                                  title="Search POS using Name, mobile no, email, pan/aadhar number"
                                                                  oninput="searchPOS()">
                                                            </label></div>
                                                      </div>
                                                      <div class="col-md-6 mb-4">
                                                         <div class=""><label>POS:<input id="inp_pos" type="text"
                                                                  value="" class="form-control" name="agent"
                                                                  style="text-transform: uppercase;" required
                                                                  title="POS should be automatically fetched">
                                                            </label>
                                                         </div>
                                                      </div>
                                                   </div>

                                                   <div class="modal-footer">
                                                      <button type="button" class="btn btn-secondary w-100p"
                                                         data-dismiss="modal">Close</button>
                                                      <!-- <button type="button" id="posUpdate" onclick="searchPOS()"
                                                            class="btn btn-primary w-100p">Save</button> -->
                                                   </div>
                                                </div>

                                             </div>


                                          </div>

                                       </div>



                                       <div class="col-md-3 mb-4">
                                          <label for="employee">Employee <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value="{{user_id}}"
                                             class="form-control" name="employee" style="text-transform: uppercase; "
                                             required readonly >
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Proposal <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="proposal" accept=".pdf,image/" id="proposal"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="proposal">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Mandate <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="mandate" accept=".pdf,image/" id="mandate"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="mandate">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="policy" accept=".pdf,image/" id="policy"
                                                class="custom-file-input" required>
                                             <label class="custom-file-label" for="policy">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Prev. Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="previous_policy" accept=".pdf,image/"
                                                id="previous_policy" class="custom-file-input">
                                             <label class="custom-file-label" for="previous_policy">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Pan Card <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="pan_card" accept=".pdf,image/" id="pan_card"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="pan_card">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Aadhar Card <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="aadhar_card" accept=".pdf,image/" id="aadhar_card"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="aadhar_card">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-4 mb-4">
                                          <label> Vehicle RC <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="vehicle_rc" accept=".pdf,image/" id="vehicle_rc"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="vehicle_rc">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-4 mb-4">
                                          <label>Inspection Report <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="inspection_report" accept=".pdf,image/"
                                                id="inspection_report" class="custom-file-input">
                                             <label class="custom-file-label" for="vehicle_rc">Choose file</label>
                                          </div>
                                       </div>

                                    </div>

                                 </fieldset>
                                 <p class="mb-4"></p>
                              </div>
                              <!-- /.card-body -->
                           </div>
                           <!-- /.card -->
                        </div>

                        <div class="col-lg-3 col-md-3 col-sm-12">

                           <div class="card">

                              <div class="card-body">
                                 <!-- .card-body -->
                                 <h4 class="card-title mb-3"> Premium Details </h4>
                                 <!-- grid row -->
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="od">OD Premium <abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue()" value="" class="form-control col-lg-6 " 
                                       name="od" id="od" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="tp">TP/Terrorism<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue()" value="" class="form-control col-lg-6 "
                                       name="tpt" id="tpt" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5">Net Premium</label><input type="text" name="net"
                                       onclick="add()" value="" class="form-control col-lg-6  bg-light"
                                       id="net"
                                       maxlength="10" readonly="" required>
                                 </div>

                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="gst">GST 18%<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text" value=""
                                       class="form-control col-lg-6 " 
                                       name="gst" id="gst" maxlength="10" required oninput="calculateValue()">
                                 </div>

                                 <div class="row mb-2" id="gsttDiv" hidden>
                                    <label class="col-lg-5" for="gstt">GST 12%<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text" value=""
                                       class="form-control col-lg-6 " 
                                       name="gstt" id="gstt" maxlength="10"
                                       oninput="calculateValue()">
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5">Total=(Net+GST) </label><input type="text" name="total"
                                       onclick="addgst()" value="" class="form-control  col-lg-6 bg-light"
                                       id="totalnet" readonly="" maxlength="10" required
                                       oninput="calculateValue()">
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5 pr-0 ">Payment <br> Mode</label>
                                    <select class="custom-select col-lg-6" name="payment_mode" required>
                                       <option value=""> -- Select Payment Mode -- </option>
                                       <option value="CUSTOMER ONLINE">CUSTOMER ONLINE</option>
                                       <option value="SELF ONLINE">SELF ONLINE</option>
                                       <option value="CASH">CASH</option>
                                       <option value="CUT PAY">CUT PAY</option>
                                       <option value="CUSTOMER CHEQUE">CUSTOMER CHEQUE</option>
                                       <option value="SELF CHEQUE">SELF CHEQUE</option>
                                    </select>
                                 </div>

                              </div>


                           </div>

                           <script>
                              function calculateAgentPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    agent_od_reward = document.getElementById('agent_od_reward').value
                                    agent_od_amount = document.getElementById('agent_od_amount')
                                    agent_od_amount.value = od * agent_od_reward / 100

                                    tp = document.getElementById('tpt').value
                                    agent_tp_reward = document.getElementById('agent_tp_reward').value
                                    agent_tp_amount = document.getElementById('agent_tp_amount')
                                    agent_tp_amount.value = tp * agent_tp_reward / 100

                                 } catch (error) {
                                 }
                              }

                              function calculateSelfPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    tpt = document.getElementById('tpt').value

                                    self_od_reward_value = document.getElementById('self_od_reward').value
                                    self_tp_reward_value = document.getElementById('self_tp_reward').value

                                    document.getElementById('self_od_amount').value = od * self_od_reward_value / 100
                                    document.getElementById('self_tp_amount').value = tpt * self_tp_reward_value / 100

                                 } catch (error) {
                                 }
                              }

                           </script>

                        </div>


                     </div>

                     {% else %}


                     <div class="row">
                        <div class="col-lg-9 col-md-9 col-sm-12">
                           <div class="card">
                              <div class="card-body">
                                 <fieldset>
                                    <legend>Policy Details</legend>

                                    <div class="form-row">

                                       <div class="col-md-3 mb-4">
                                          <label>Product Name <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="product_name" id="product_name" class="custom-select " required>
                                             <option value=""> -- Select Product -- </option>
                                             <option value="FIRE">FIRE</option>
                                             <option value="MARINE CARGO">MARINE CARGO</option>
                                             <option value="MARINE HULL">MARINE HULL</option>
                                             <option value="ENGINEERING">ENGINEERING</option>
                                             <option value="MISCELLANEOUS">MISCELLANEOUS</option>

                                             <!-- {%for value in data_vc%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%} -->
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Policy Type <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="policy_type" id="policy_type" class="custom-select" required>
                                             <option value="">-- Select Case Type --</option>
                                             <option value="FRESH">FRESH</option>
                                             <option value="RENEWAL">RENEWAL</option>
                                             <option value="ROLLOVER">ROLLOVER</option>
                                             <option value="ENDORSEMENT">ENDORSEMENT</option>
                                          </select>
                                       </div>


                                       <div class="col-md-3 mb-4">
                                          <label for="proposal_no">Proposal No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="proposal_no" id="proposal_no"
                                             style="text-transform: uppercase;" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="policy_no">Policy No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="policy_no" id="policy_no"
                                             style="text-transform: uppercase;" required>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="customer_name">Insured Name <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="customer_name"
                                             style="text-transform: uppercase;" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Insurer Name<abbr title="" class="text-danger">*</abbr></label>
                                          <select name="insurance_company" class="custom-select" id="insurance_company"
                                             required>
                                             <option value=""> -- Select Insurer -- </option>
                                             {%for value in data_ins%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Serving Office <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_name" class="custom-select" id="sp_name" required>
                                             <option value=""> -- Select Provider -- </option>
                                             <option value="DELHI">Delhi</option>
                                             <option value="ROHTAK">Rohtak</option>
                                             <option value="CHANDIGARH">Chandigarh</option>
                                             <option value="GURGAON">Gurgaon</option>
                                             <option value="LUCKHNOW">Luckhnow</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Office Code <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_brokercode" class="custom-select" id="sp_brokercode"
                                             required>
                                             <option value=""> -- Select Office Code -- </option>
                                             <!-- <option value="123">123</option>
                                             <option value="1234">1234</option>
                                             <option value="12345">12345</option> -->
                                             {%for value in data_bc%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                        
                                       </div>


                                       <div class="col-md-3 mb-4">
                                          <label>CPA <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="cpa" class="custom-select" required>
                                             <option value="">-- Select CPA --</option>
                                             <option value="YES">YES</option>
                                             <option value="NO">NO</option>
                                          </select>
                                       </div>


                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk Start Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_start_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk End Date <abbr title="Required"
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_end_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Issued Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="issue_flatpickr" data-wrap="true" data-alt-input="true"
                                             ata-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="issue_date" required
                                                data-input="">
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Policy Term <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="policy_term" class="custom-select" required>
                                             <option value="">-- Select Term --</option>
                                             <option value="1">1</option>
                                             <option value="5">5</option>
                                             <option value="10">10</option>

                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>BQP <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="bqp" class="custom-select" required>
                                             <option value="">-- Select BQP --</option>
                                             {%for value in data_bqp%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="pos">POS <abbr title="" class="text-danger">*</abbr></label><input
                                             id="pos" type="text" value="" data-toggle="modal"
                                             data-target="#mdlcolsetting" class="form-control" name="pos"
                                             style="text-transform: uppercase;" required readonly>
                                       </div>


                                       <div class="modal fade" id="mdlcolsetting" data-backdrop="static"
                                          data-keyboard="false" style="height: 400px" tabindex="-1" role="dialog"
                                          aria-labelledby="rtoModalLabel" aria-hidden="true">
                                          <div class="modal-dialog" role="document">
                                             <div class="modal-content">
                                                <div class="modal-header">
                                                   <h5 id="rtoModalLabel" class="modal-title"> Search POS </h5>
                                                </div>
                                                <div class="modal-body ">
                                                   <div class="form-row">
                                                      <div class="col-md-6 mb-4">
                                                         <div class=""><label>Search:<input id="inp_search" type="text"
                                                                  value="" class="form-control" name="agent"
                                                                  style="text-transform: uppercase;" required
                                                                  title="Search POS using Name, mobile no, email, pan/aadhar number"
                                                                  oninput="searchPOS()">
                                                            </label></div>
                                                      </div>
                                                      <div class="col-md-6 mb-4">
                                                         <div class=""><label>POS:<input id="inp_pos" type="text"
                                                                  value="" class="form-control" name="agent"
                                                                  style="text-transform: uppercase;" required
                                                                  title="POS should be automatically fetched">
                                                            </label>
                                                         </div>
                                                      </div>
                                                   </div>

                                                   <div class="modal-footer">
                                                      <button type="button" class="btn btn-secondary w-100p"
                                                         data-dismiss="modal">Close</button>
                                                      <!-- <button type="button" id="posUpdate" onclick="searchPOS()"
                                                            class="btn btn-primary w-100p">Save</button> -->
                                                   </div>
                                                </div>

                                             </div>


                                          </div>

                                       </div>



                                       <div class="col-md-3 mb-4">
                                          <label for="employee">Employee <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value="{{user_id}}"
                                             class="form-control" name="employee" style="text-transform: uppercase;"
                                             required readonly>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Proposal <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="proposal" accept=".pdf,image/" id="proposal"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="proposal">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Mandate <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="mandate" accept=".pdf,image/" id="mandate"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="mandate">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="policy" accept=".pdf,image/" id="policy"
                                                class="custom-file-input" required>
                                             <label class="custom-file-label" for="policy">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Prev. Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="previous_policy" accept=".pdf,image/"
                                                id="previous_policy" class="custom-file-input">
                                             <label class="custom-file-label" for="previous_policy">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Pan Card <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="pan_card" accept=".pdf,image/" id="pan_card"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="pan_card">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Aadhar Card <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="aadhar_card" accept=".pdf,image/" id="aadhar_card"
                                                class="custom-file-input">
                                             <label class="custom-file-label" for="aadhar_card">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-4 mb-4">
                                          <label>Inspection Report <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="inspection_report" accept=".pdf,image/"
                                                id="inspection_report" class="custom-file-input">
                                             <label class="custom-file-label" for="vehicle_rc">Choose file</label>
                                          </div>
                                       </div>

                                    </div>

                                 </fieldset>
                                 <p class="mb-4"></p>
                              </div>
                              <!-- /.card-body -->
                           </div>
                           <!-- /.card -->
                        </div>

                        <div class="col-lg-3 col-md-3 col-sm-12">

                           <div class="card">

                              <div class="card-body">
                                 <!-- .card-body -->
                                 <h4 class="card-title mb-3"> Premium Details </h4>
                                 <!-- grid row -->
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="od">OD Premium <abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue()" value="" class="form-control col-lg-6 maskNumField"
                                       data-parsley-pattern="^[0-9]+$" name="od" id="od" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="tp">TP/Terrorism<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue()" value="" class="form-control col-lg-6 maskNumField"
                                       data-parsley-pattern="^[0-9]+$" name="tpt" id="tpt" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5">Net Premium</label><input type="text" name="net"
                                       onclick="add()" value="" class="form-control col-lg-6 maskNumField bg-light"
                                       data-mask-as-number-maxlength="10" data-parsley-pattern="^[0-9]+$" id="net"
                                       maxlength="10" readonly="" required>
                                 </div>

                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="gst">GST 18%<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text" value=""
                                       class="form-control col-lg-6 maskNumField" data-parsley-pattern="^[0-9]+$"
                                       name="gst" id="gst" maxlength="10" required oninput="calculateValue()">
                                 </div>

                                 <div class="row mb-2" id="gsttDiv" hidden>
                                    <label class="col-lg-5" for="gstt">GST 12%<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text" value=""
                                       class="form-control col-lg-6 maskNumField" data-mask-as-number-maxlength="10"
                                       data-parsley-pattern="^[0-9]+$" name="gstt" id="gstt" maxlength="10"
                                       oninput="calculateValue()">
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5">Total=(Net+GST) </label><input type="text" name="total"
                                       onclick="addgst()" value="" class="form-control maskNumField col-lg-6 bg-light"
                                       data-parsley-pattern="^[0-9]+$" id="totalnet" readonly="" maxlength="10" required
                                       oninput="calculateValue()">
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5 pr-0 ">Payment <br> Mode</label>
                                    <select class="custom-select col-lg-6" name="payment_mode" required>
                                       <option value=""> -- Select Payment Mode -- </option>
                                       <option value="CUSTOMER ONLINE">CUSTOMER ONLINE</option>
                                       <option value="SELF ONLINE">SELF ONLINE</option>
                                       <option value="CASH">CASH</option>
                                       <option value="CUT PAY">CUT PAY</option>
                                       <option value="CUSTOMER CHEQUE">CUSTOMER CHEQUE</option>
                                       <option value="SELF CHEQUE">SELF CHEQUE</option>
                                    </select>
                                 </div>

                              </div>


                           </div>

                           <script>
                              function calculateAgentPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    agent_od_reward = document.getElementById('agent_od_reward').value
                                    agent_od_amount = document.getElementById('agent_od_amount')
                                    agent_od_amount.value = od * agent_od_reward / 100

                                    tp = document.getElementById('tpt').value
                                    agent_tp_reward = document.getElementById('agent_tp_reward').value
                                    agent_tp_amount = document.getElementById('agent_tp_amount')
                                    agent_tp_amount.value = tp * agent_tp_reward / 100

                                 } catch (error) {
                                 }
                              }

                              function calculateSelfPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    tpt = document.getElementById('tpt').value

                                    self_od_reward_value = document.getElementById('self_od_reward').value
                                    self_tp_reward_value = document.getElementById('self_tp_reward').value

                                    document.getElementById('self_od_amount').value = od * self_od_reward_value / 100
                                    document.getElementById('self_tp_amount').value = tpt * self_tp_reward_value / 100

                                 } catch (error) {
                                 }
                              }

                           </script>

                        </div>


                     </div>


                     {% endif %}
               </div>
               <hr>

               <div class="form-row">
                  <div class="col-md-12 col-sm-12">
                     <div id="payoutSection" class="card card-inverse bg-info">
                        <!-- .card -->
                        <div class="card-header p-2">
                           <h4 class="card-title mb-1">Payouts</h4>
                        </div>
                        <div class="card-body">
                           <p><span class="icofont icofont-hand-right ml-1"></span> The Payout will be shown as
                              per the Policy Details</p>
                           <p><span class="icofont icofont-hand-right ml-1"></span> You can add manual Payout
                              after the Policy saved</p>
                           <div class="text-center">
                              <button type="submit" name="submit" class="btn btn-success w-100p">Save</button>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               </form>
            </div>

         </div>
      </div>
   </div>
   </div>

</main>



{% comment %}
<script src="{%static 'js/jquery.min.js' %}"></script> {% endcomment %}
<script src="{%static 'js/popper.min.js' %}"></script>
<script src="{%static 'js/bootstrap.min.js' %}"></script><!-- END BASE JS -->
<!-- BEGIN PLUGINS JS -->
<script src="{% static 'js/pace.min.js' %}"></script>
<script src="{% static 'js/stacked-menu.min.js' %}"></script>
<script src="{% static 'js/perfect-scrollbar.min.js'%}"></script><!-- END PLUGINS JS -->
<!-- Parsley -->
<script src="{%static 'js/parsley.js' %}"></script>
<!-- BEGIN THEME JS -->
<script src="{%static 'js/theme.js' %}"></script>
<script src="{%static 'js/toastr.min.js' %}"></script>
<script src="{%static 'js/flatpickr.min.js' %}"></script>
<script src="{%static 'js/select2.full.min.js' %}"></script>
<script src="{%static 'js/moment.js' %}"></script>
<script src="{%static 'js/mask-as-number.min.js' %}"></script>
<script src="{%static 'js/jquery.dataTables.min.js' %}"></script>
<script src="{%static 'js/dataTables.bootstrap.js' %}"></script>
<script src="{%static 'js/jquery.form.js' %}"></script>
<script src="{%static 'js/custom.min.js' %}"></script>
{% comment %}
<script src="{%static 'js/insurance.min.js' %}"></script> {% endcomment %}


<script>
   function myFunction() {
      document.getElementById("registration_no").value = document.getElementById("registration_no").value.toUpperCase();
      var x = document.getElementById("registration_no").value;
      document.getElementById("demo").innerHTML = x.slice(0, 4);

      if (x.startsWith('AN')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Andama And Nicobar Island') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('AP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Andhra Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('AR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Arunachal Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('AS')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Assam') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('BR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Bihar') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('CH')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Chandigarh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('CG')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Chattisgarh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('DD')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Daman And Diu') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('DL')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Delhi') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('GA')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'GOA') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('GJ')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Gujrat') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('HR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Haryana') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('HP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Himachal Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('JK')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Jammu And Kashmir') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('JH')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Jharkhand') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('KA')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Karnataka') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('KL')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Kerala') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('LD')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Lakshadweep') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('LA')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Leh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Madhya Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MH')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Maharashtra') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MN')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Manipur') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('ML')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Meghalaya') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MZ')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Mizoram') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('NL')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Nagaland') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('OD')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Odisha') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('PY')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Puducherry') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('PB')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Punjab') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('RJ')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Rajasthan') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('SK')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Sikkim') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('TN')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Tamil Nadu') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('TR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Telangana') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('TS')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Telangana') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('UK')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Uttrakhand') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('UP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Uttar Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('WB')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'West Bengal') {
               rto_state[index].selected = true;
            }
         }
      }

   }
</script>
<script>

   function calculateValue() {

      is_motor_form = "{{is_motor_form | safe}}"

      if (is_motor_form) {

         try {
            add_non_motor()
            addgst_non_motor()
         } catch (error) { }

      }
      else {
         try {
            add()
            addgst()
         } catch (error) { }
      }



   }

   function add() {
      
      od = parseFloat(document.getElementById("od").value);
      tpt = parseFloat(document.getElementById("tpt").value);

      gst = parseFloat(document.getElementById("gst").value);
      gstt = parseFloat(document.getElementById("gstt").value);

      vc = document.getElementById('vehicle_catagory').value

      if (vc == 'GCV-PUBLIC CARRIER OTHER THAN 3 W' || vc == '3 WHEELER GCV-PUBLIC CARRIER') {
          
         document.getElementById("net").value = ( od + tpt);
         document.getElementById("gst").value = Number (od * 18 / 100).toFixed(2);
         document.getElementById("gstt").value = Number(tpt * 12 / 100).toFixed(2);
      }
      else {         
         document.getElementById("net").value = (od + tpt);
         document.getElementById("gst").value = Number((od + tpt) * 18 / 100).toFixed(2); 

      }

   }

   function addgst() {
      var numOne, numTwo, sum;
      net = parseFloat(document.getElementById("net").value);
      gst = parseFloat(document.getElementById("gst").value);
      gstt = parseFloat(document.getElementById("gstt").value);
      // 3 WHEELER GCV-PUBLIC CARRIER
      vc = document.getElementById('vehicle_catagory').value
      if (vc == 'GCV-PUBLIC CARRIER OTHER THAN 3 W' || vc == '3 WHEELER GCV-PUBLIC CARRIER') {
         document.getElementById("totalnet").value = (net + gst + gstt);
      }
      else {
         document.getElementById("totalnet").value = (net + gst);
      }
   }


   function add_non_motor() {
      od =  parseFloat(document.getElementById("od").value);
      tpt = parseFloat(document.getElementById("tpt").value);

      gst = parseFloat(document.getElementById("gst").value);

      document.getElementById("net").value = Math.round( od + tpt);
      document.getElementById("gst").value = (od + tpt) * 18 / 100;

   }

   function addgst_non_motor() {
      var numOne, numTwo, sum;
      net = parseFloat(document.getElementById("net").value);
      gst = parseFloat(document.getElementById("gst").value);
      document.getElementById("totalnet").value = net + gst;
   }

   function setCategoryOnChange() {
      value = document.getElementById('vehicle_catagory').value
      value2 = document.getElementById('vehicle_catagory').value

      coverage_typeDiv = document.getElementById('coverage_typeDiv')
      cubic_capacityDiv = document.getElementById('cubic_capacityDiv')
      seating_capacityDiv = document.getElementById('seating_capacityDiv')
      gvwDiv = document.getElementById('gvwDiv')
      gsttDiv = document.getElementById('gsttDiv')

      if (value == 'TWO WHEELER' || value == 'TWO WHEELER COMMERCIAL') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false


         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         // Cubic_ capacity options
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT CUBIC CAPACITY --'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '75CC-150CC'
         newoption.innerHTML = '75CC-150CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '150CC-350CC'
         newoption.innerHTML = '150CC-350CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'ABOVE 350CC'
         newoption.innerHTML = 'ABOVE 350CC'
         cubic_capacity.options.add(newoption);

         // Coverage type
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+4 YEAR PACKAGE'
         newoption.innerHTML = '1+4 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '5 YEAR TP'
         newoption.innerHTML = '5 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);

      }

      else if (value == 'PRIVATE CAR') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         // Cubic_ capacity options
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT CUBIC CAPACITY --'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'BELOW 1000CC'
         newoption.innerHTML = 'BELOW 1000CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1000CC-1500CC'
         newoption.innerHTML = '1000CC-1500CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'ABOVE 1500CC'
         newoption.innerHTML = 'ABOVE 1500CC'
         cubic_capacity.options.add(newoption);

         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == 'GCV-PUBLIC CARRIER OTHER THAN 3 W') {

         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = false
         document.getElementById('gvw').required = true
         document.getElementById('gsttDiv').hidden = false
         document.getElementById('gstt').required = true



         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         try {
            calculateValue()
         } catch (error) {
         }
      }

      else if (value == '3 WHEELER PCV') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         coverage_type.innerHTML = ''

         // Coverage type        
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == '3 WHEELER GCV-PUBLIC CARRIER') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false


         document.getElementById('gvwDiv').hidden = false
         document.getElementById('gvw').required = true
         document.getElementById('gsttDiv').hidden = false
         document.getElementById('gstt').required = true

         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP Only'
         newoption.innerHTML = 'TP Only'
         coverage_type.options.add(newoption);
      }

      else if (value == 'TAXI 4 WHEELER') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         // Cubic_ capacity options
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT CUBIC CAPACITY --'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'BELOW 1000CC'
         newoption.innerHTML = 'BELOW 1000CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1000CC-1500CC'
         newoption.innerHTML = '1000CC-1500CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'ABOVE 1500CC'
         newoption.innerHTML = 'ABOVE 1500CC'
         cubic_capacity.options.add(newoption);

         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == 'BUS AND OTHERS') {
         document.getElementById('coverage_typeDiv').hidden = true
         document.getElementById('coverage_type').required = false

         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false

         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         document.getElementById('seating_capacityDiv1').hidden = false

      }

      else if (value == 'MISC-D SPECIAL VEHICLE') {
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false
         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('coverage_type').required = true

         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);

      }

      else if (value == 'SCHOOL BUS-SCHOOL NAME') {
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false

         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false
         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('coverage_type').required = true
         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }
      else if (value == 'SCHOOL BUS-INDIVIDUAL NAME') {
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('coverage_typeDiv').hidden = true
         document.getElementById('coverage_type').required = false
         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false
         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('coverage_type').required = true
         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }

   }

   function addSeatingCapacity() {
      try {
         var seating_capacity1 = document.getElementById('seating_capacity1')
         var value = document.getElementById('seating_capacity1').value

         if (value) {
            // seating capacity
            var newoption = document.createElement("option");
            newoption.value = value
            newoption.innerHTML = value
            document.getElementById('seating_capacity').innerHTML = ''
            document.getElementById('seating_capacity').options.add(newoption);
         }
      } catch (error) {

      }
   }

</script>

<script>

   function searchPOS() {
      try {
         // alert('test')
         var data_ag = JSON.parse("{{data_ag|escapejs}}");
         console.log(data_ag);

         value = document.getElementById('inp_search').value.toUpperCase();
         inp_pos = document.getElementById('inp_pos');
         pos = document.getElementById('pos');

         data_ag.forEach(element => {
            console.log(element.full_name);

            if (value == element.full_name.toUpperCase()) {
               inp_pos.value = element.full_name
               pos.value = element.full_name
            }
            else if (value == element.mob_no.toUpperCase()) {
               inp_pos.value = element.full_name
               pos.value = element.full_name
            }
            else if (value == element.PAN.toUpperCase()) {
               inp_pos.value = element.full_name
               pos.value = element.full_name
            }
            else if (value == element.aadhar_no.toUpperCase()) {
               inp_pos.value = element.full_name
               pos.value = element.full_name
            }
            else if (value == element.email_id.toUpperCase()) {
               inp_pos.value = element.full_name
               pos.value = element.full_name
            }
         });

      } catch (error) {

      }

   }

</script>


</html>
{%endblock%}