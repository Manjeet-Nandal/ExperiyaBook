{%extends "base.html"%}

{%block content%}
{% load static %}


<main class="app-main">
   <div class="wrapper">
      <div class="page ">
         <div class="page-inner">
            <div class="ajax-progressBar">
               <div class="postProgress"></div>
            </div>


            <header class="page-title-bar">
               <!-- <h3 id="notification">files </h3> -->

               <div class="d-flex justify-content-between align-items-center">
                  <nav aria-label="breadcrumb">
                     <ol class="breadcrumb">
                        <li class="breadcrumb-item active">
                           <a href="list"><i class="breadcrumb-icon fa fa-angle-left mr-2"></i>Back</a>
                        </li>
                     </ol>
                  </nav>
               </div>
               <div class="row text-center text-sm-left">
                  <div class="col">
                     <h1 class="page-title"> {% if is_motor_form %} Motor Policy {% else %} Non-Motor Policy
                        {% endif %}<small class="text-muted"> All * marks Fields are
                           mandatory.
                        </small></h1>
                  </div>
               </div>
            </header>
            <div class="page-section">
               <div class="section-block">
                  <form id="frminsurance" method="post" enctype="multipart/form-data" {% if is_motor_form %}
                     action="{%url 'bima_policy:create_policy'%}" {% else %}
                     action="{%url 'bima_policy:create_policy_non_motor'%}" {% endif %}>
                     {%csrf_token%}

                     {% if is_motor_form %}

                     <div class="row">
                        <div class="col-lg-9 col-md-9 col-sm-12">
                           <div class="card">
                              <div class="card-body">
                                 <fieldset>
                                    <legend>Policy Details</legend>

                                    <div class="form-row">

                                       <div class="col-md-3 mb-4">
                                          <label>Vehicle Catagory <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="vehicle_catagory" id="vehicle_catagory" class="custom-select "
                                             required onclick="setCategoryOnChange()">
                                             <option value="" hidden> -- Select Catagory -- </option>
                                             {% for value in vehicle_categories %}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}

                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="proposal_no">Proposal No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="proposal_no" id="proposal_no"
                                             style="text-transform: uppercase;" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="policy_no">Policy No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="policy_no" id="policy_no"
                                             style="text-transform: uppercase;" required>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="customer_name">Insured Name <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="customer_name"
                                             style="text-transform: uppercase;" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Insurer Name<abbr title="" class="text-danger">*</abbr></label>
                                          <select name="insurance_company" class="custom-select" id="insurance_company"
                                             required>
                                             <option value="" hidden> -- Select Insurer -- </option>
                                             {%for value in insurers %}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Serving Office <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_name" class="custom-select" id="sp_name" required>
                                             <option value="" hidden> -- Select Provider -- </option>
                                             {%for value in service_providers%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Office Code <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_brokercode" class="custom-select" id="sp_brokercode"
                                             required>
                                             <option value="" hidden> -- Select Office Code -- </option>
                                             {%for value in broker_codes%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>

                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="registration_no">Registration No. <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt">
                                             <input type="text" oninput="myFunction()" class="form-control" value=""
                                                placeholder="Minimum 8 Characters" id="registration_no"
                                                name="registration_no" maxlength="14" required
                                                style="text-transform: uppercase;">
                                             <div class="input-group-append">
                                                <span class="input-group-text" id="demo" placeholder="xxxx"></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>RTO State<abbr title="" class="text-danger">*</abbr></label>
                                          <select name="rto_state" class="custom-select" id="rto_state" required>
                                             <option value="" hidden>-- Select State --</option>
                                             <option value="Andama And Nicobar Island">Andama And Nicobar Island
                                             </option>
                                             <option value="Andhra Pradesh">Andhra Pradesh</option>
                                             <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                             <option value="Assam">Assam</option>
                                             <option value="Bihar">Bihar</option>
                                             <option value="Chandigarh">Chandigarh</option>
                                             <option value="Chattisgarh">Chattisgarh</option>
                                             <option value="Daman And Diu">Daman And Diu</option>
                                             <option value="Delhi">Delhi</option>
                                             <option value="Goa">Goa</option>
                                             <option value="Gujrat">Gujrat</option>
                                             <option value="Haryana">Haryana</option>
                                             <option value="Himachal Pradesh">Himachal Pradesh</option>
                                             <option value="Jammu And Kashmir">Jammu And Kashmir</option>
                                             <option value="Jharkhand">Jharkhand</option>
                                             <option value="Karnataka">Karnataka</option>
                                             <option value="Kerala">Kerala</option>
                                             <option value="Lakshadweep">Lakshadweep</option>
                                             <option value="Leh">Leh</option>
                                             <option value="Madhya Pradesh">Madhya Pradesh</option>
                                             <option value="Maharashtra">Maharashtra</option>
                                             <option value="Manipur">Manipur</option>
                                             <option value="Meghalaya">Meghalaya</option>
                                             <option value="Mizoram">Mizoram</option>
                                             <option value="Nagaland">Nagaland</option>
                                             <option value="NCR">NCR</option>
                                             <option value="Odisha">Odisha</option>
                                             <option value="Puducherry">Puducherry</option>
                                             <option value="Punjab">Punjab</option>
                                             <option value="Rajasthan">Rajasthan</option>
                                             <option value="Sikkim">Sikkim</option>
                                             <option value="Tamil Nadu">Tamil Nadu</option>
                                             <option value="Telangana">Telangana</option>
                                             <option value="Tripura">Tripura</option>
                                             <option value="Uttar Pradesh">Uttar Pradesh</option>
                                             <option value="Uttrakhand">Uttrakhand</option>
                                             <option value="West Bengal">West Bengal</option>
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="rto_city">RTO City <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="rto_city" style="text-transform: uppercase;"
                                             required>
                                       </div>

                                       <div class="col-md-3 mb-4" ">
                                          <label>Vehicle Make By <abbr title="" class=" text-danger">*</abbr></label>
                                          <select name="vehicle_makeby"
                                             class="custom-select select2 select2-hidden-accessible" id="vehicle_makeby"
                                             aria-hidden="true" required>
                                             <option value="" hidden>-- Select Make By --</option>
                                             {% for value in makes %}
                                             <option value="{{value.make}}">{{value.make}}</option>
                                             {%endfor%}
                                          </select>

                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Vehicle Model <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="vehicle_model"
                                             class="custom-select select2 select2-hidden-accessible" id="vehicle_model"
                                             aria-hidden="true" required>
                                             <option value="" hidden>-- Select Model --</option>
                                             {% for value in models %}
                                             <option value="{{value.model}}">{{value.model}}</option>
                                             {%endfor%}

                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Vehicle Fuel Type <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="vehicle_fuel_type" class="custom-select" required>
                                             <option value="" hidden>-- Select Fuel Type --</option>
                                             <option value="PETROL">PETROL</option>
                                             <option value="DIESEL">DIESEL</option>
                                             <option value="CNG">CNG</option>
                                             <option value="ELECTRIC">ELECTRIC</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="mfg_year">Manufacture Year <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <select name="mfg_year" class="custom-select" required>
                                             <option value="" hidden>-- Select Year --</option>
                                             <option value="2025">2025</option>
                                             <option value="2024">2024</option>
                                             <option value="2023">2023</option>
                                             <option value="2022">2022</option>
                                             <option value="2021">2021</option>
                                             <option value="2020">2020</option>
                                             <option value="2019">2019</option>
                                             <option value="2018">2018</option>
                                             <option value="2017">2017</option>
                                             <option value="2016">2016</option>
                                             <option value="2015">2015</option>
                                             <option value="2014">2014</option>
                                             <option value="2013">2013</option>
                                             <option value="2012">2012</option>
                                             <option value="2011">2011</option>
                                             <option value="2010">2010</option>
                                             <option value="2009">2009</option>
                                             <option value="2008">2008</option>
                                             <option value="2007">2007</option>
                                             <option value="2006">2006</option>
                                             <option value="2005">2005</option>
                                             <option value="2004">2004</option>
                                             <option value="2003">2003</option>
                                             <option value="2002">2002</option>
                                             <option value="2001">2001</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Addon <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="addon" class="custom-select" required>
                                             <option value="" hidden>-- Select Addon --</option>
                                             <option value="YES">YES</option>
                                             <option value="NO">NO</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>NCB <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="ncb" class="custom-select" required>
                                             <option value="" hidden>-- Select NCB --</option>
                                             <option value="YES">YES</option>
                                             <option value="NO">NO</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4" id="cubic_capacityDiv">
                                          <label>Cubic Capacity<abbr class="text-danger">*</abbr></label>
                                          <select name="cubic_capacity" class="custom-select" id="cubic_capacity"
                                             required>
                                             <option value="" hidden> -- Select Capacity -- </option>
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4" id="gvwDiv">
                                          <label>GVW<abbr class="text-danger">*</abbr></label>
                                          <select name="gvw" class="custom-select" id="gvw" required>
                                             <option value="" hidden> -- Select GVW -- </option>
                                             <option value="BELOW 2000">BELOW 2000</option>
                                             <option value="2000-2500">2000-2500</option>
                                             <option value="2500-3500">2500-3500</option>
                                             <option value="3500-7000">3500-7000</option>
                                             <option value="7000-7500">7000-7500</option>
                                             <option value="7500-12000">7500-12000</option>
                                             <option value="12000-25000">12000-25000</option>
                                             <option value="25000-40000">25000-40000</option>
                                             <option value="ABOVE 40000">ABOVE 40000</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4" id="seating_capacityDiv">
                                          <label>Seating Capacity<abbr class="text-danger">*</abbr></label>
                                          <select name="seating_capacity" type="input" class="custom-select"
                                             id="seating_capacity" required>
                                             <option value="" hidden> -- Select Seating Capacity -- </option>
                                             <option value="BELOW 5">BELOW 5</option>
                                             <option value="5-7">5-7</option>
                                             <option value="7-12">7-12</option>
                                             <option value="12-18">12-18</option>
                                             <option value="ABOVE 18">ABOVE 18</option>
                                          </select>
                                       </div>


                                       <div class="col-md-3 mb-4" id="seating_capacityDiv1" hidden>
                                          <label for="seating_capacity1">Seating Capacity <abbr
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control col-lg-6 maskNumField" name="seating_capacity1"
                                             id="seating_capacity1" maxlength="2" required
                                             oninput="addSeatingCapacity()">
                                       </div>

                                       <div class="col-md-3 mb-4" id="coverage_typeDiv">
                                          <label>Coverage Type <abbr class="text-danger">*</abbr></label>
                                          <select name="coverage_type" id="coverage_type" class="custom-select"
                                             required>
                                             <option value="" hidden>-- Select Coverage --</option>

                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Policy Type <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="policy_type" id="policy_type" class="custom-select" required>
                                             <option value="" hidden>-- Select Policy Type --</option>
                                             <option value="FRESH">FRESH</option>
                                             <option value="RENEWAL">RENEWAL</option>
                                             <option value="ROLLOVER">ROLLOVER</option>
                                             <option value="ENDORSEMENT">ENDORSEMENT</option>
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>CPA <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="cpa" class="custom-select" required>
                                             <option value="" hidden>-- Select CPA --</option>
                                             <option value="YES">YES</option>
                                             <option value="NO">NO</option>
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk Start Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_start_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk End Date <abbr title="Required"
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_end_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Issued Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="issue_flatpickr" data-wrap="true" data-alt-input="true"
                                             ata-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="issue_date" required
                                                data-input="">
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="insured_age">Insured Age <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value="0"
                                             class="form-control" name="insured_age" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Policy Term <abbr title="" class="text-danger">*</abbr></label>
                                          <select id="policy_term" name="policy_term" class="custom-select" required>
                                             <option value="" hidden>-- Select Term --</option>
                                             <option value="1">1</option>
                                             <option value="2">2</option>
                                             <option value="3">3</option>
                                             <option value="4">4</option>
                                             <option value="5">5</option>
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>BQP <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="bqp" class="custom-select" required>
                                             <!-- <option value="">-- Select BQP --</option> -->
                                             {%for value in bqps %}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="employee">Employee <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" disabled
                                             value="{{user_name}}" class="form-control" name="employee"
                                             style="text-transform: uppercase;  background-color: lightgray;" readonly
                                             required>
                                       </div>

                                       <div class="col-md-3 mb-4" onkeypress="document.getElementById('pos').click();">
                                          <label for="pos">POS <abbr title="" class="text-danger">*</abbr></label><input
                                             id="pos" type="text" value="" data-toggle="modal" data-target="#mdlPOS"
                                             class="form-control" name="pos" style="text-transform: uppercase;" required
                                             readonly>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Proposal <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="proposal" accept=".pdf,image/" id="proposal"
                                                class="custom-file-input">
                                             <label name="lbl_proposal" class="custom-file-label" for="proposal">Choose
                                                file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Mandate <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="mandate" accept=".pdf,image/" id="mandate"
                                                class="custom-file-input">
                                             <label name="lbl_mandate" class="custom-file-label" for="mandate">Choose
                                                file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="policy" accept=".pdf,image/" id="policy"
                                                class="custom-file-input" required>
                                             <label name="lbl_policy" class="custom-file-label" for="policy">Choose
                                                file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Prev. Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="previous_policy" accept=".pdf,image/"
                                                id="previous_policy" class="custom-file-input">
                                             <label name="lbl_previous_policy" class="custom-file-label"
                                                for="previous_policy">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Pan Card <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="pan_card" accept=".pdf,image/" id="pan_card"
                                                class="custom-file-input">
                                             <label name="lbl_pan_card" class="custom-file-label" for="pan_card">Choose
                                                file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Aadhar Card / GST<small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="aadhar_card" accept=".pdf,image/" id="aadhar_card"
                                                class="custom-file-input">
                                             <label name="lbl_aadhar_card" class="custom-file-label"
                                                for="aadhar_card">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-4 mb-4">
                                          <label> Vehicle RC / Invoice<small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="vehicle_rc" accept=".pdf,image/" id="vehicle_rc"
                                                class="custom-file-input">
                                             <label name="lbl_vehicle_rc" class="custom-file-label"
                                                for="vehicle_rc">Choose file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-4 mb-4">
                                          <label>Inspection Report <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="inspection_report" accept=".pdf,image/"
                                                id="inspection_report" class="custom-file-input">
                                             <label name="lbl_inspection_report" class="custom-file-label"
                                                for="vehicle_rc">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-4 mb-4">
                                          <label for="remark">Remarks <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             maxlength="255" class="form-control" name="remark"
                                             style="text-transform: uppercase;">
                                       </div>

                                    </div>

                                 </fieldset>
                                 <p class="mb-4"></p>
                              </div>
                              <!-- /.card-body -->
                           </div>
                           <!-- /.card -->
                        </div>

                        <div class="col-lg-3 col-md-3 col-sm-12">

                           <div class="card">

                              <div class="card-body">
                                 <!-- .card-body -->
                                 <h4 class="card-title mb-3"> Premium Details </h4>
                                 <!-- grid row -->
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="od">OD Premium <abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue()" value="" class="form-control col-lg-6 " name="od"
                                       id="od" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="tp">TP/Terrorism<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue()" value="" class="form-control col-lg-6 " name="tpt"
                                       id="tpt" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5">Net Premium</label><input type="text" name="net" value=""
                                       class="form-control col-lg-6  bg-light" id="net" maxlength="10" readonly=""
                                       required tabindex="-1">
                                 </div>

                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="gst">GST 18%<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text" value=""
                                       class="form-control col-lg-6 bg-light" name="gst" id="gst" maxlength="10"
                                       required readonly tabindex="-1">
                                 </div>

                                 <div class="row mb-2" id="gsttDiv" hidden>
                                    <label class="col-lg-5" for="gstt">GST 12%<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text" value=""
                                       class="form-control col-lg-6 bg-light" name="gstt" id="gstt" maxlength="10"
                                       readonly tabindex="-1">
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5">Total=(Net+GST) </label><input type="text" name="total"
                                       value="" class="form-control  col-lg-6 bg-light" id="totalnet" readonly=""
                                       maxlength="10" required tabindex="-1">
                                 </div>


                                 <div class="row mb-2">
                                    <label class="col-lg-5 pr-0 ">Payment <br> Mode</label>
                                    <select class="custom-select col-lg-6" name="payment_mode" required>
                                       <option value="" hidden> -- Select Payment Mode -- </option>
                                       <option value="ONLINE" selected>ONLINE</option>
                                       <option value="CHEQUE"> CHEQUE</option>
                                       <option value="CASH">CASH</option>
                                    </select>
                                 </div>

                              </div>


                           </div>

                           <script>
                              function calculateAgentPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    agent_od_reward = document.getElementById('agent_od_reward').value
                                    agent_od_amount = document.getElementById('agent_od_amount')
                                    agent_od_amount.value = od * agent_od_reward / 100

                                    tp = document.getElementById('tpt').value
                                    agent_tp_reward = document.getElementById('agent_tp_reward').value
                                    agent_tp_amount = document.getElementById('agent_tp_amount')
                                    agent_tp_amount.value = tp * agent_tp_reward / 100

                                 } catch (error) {
                                 }
                              }

                              function calculateSelfPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    tpt = document.getElementById('tpt').value

                                    self_od_reward_value = document.getElementById('self_od_reward').value
                                    self_tp_reward_value = document.getElementById('self_tp_reward').value

                                    document.getElementById('self_od_amount').value = od * self_od_reward_value / 100
                                    document.getElementById('self_tp_amount').value = tpt * self_tp_reward_value / 100

                                 } catch (error) {
                                 }
                              }

                           </script>

                        </div>

                     </div>

                     {% else %}


                     <div class="row">
                        <div class="col-lg-9 col-md-9 col-sm-12">
                           <div class="card">
                              <div class="card-body">
                                 <fieldset>
                                    <legend>Policy Details</legend>

                                    <div class="form-row">

                                       <div class="col-md-3 mb-4">
                                          <label>Product Name <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="product_name" id="product_name" class="custom-select " required>
                                             <option value="" hidden> -- Select Product -- </option>
                                             <!-- <option value="FIRE">FIRE</option>
                                             <option value="HEALTH">HEALTH</option>
                                             <option value="LIABILITY">LIABILITY</option>
                                             <option value="MARINE CARGO">MARINE CARGO</option>
                                             <option value="MARINE HULL">MARINE HULL</option>
                                             <option value="ENGINEERING">ENGINEERING</option>
                                             <option value="MISCELLANEOUS">MISCELLANEOUS</option> -->

                                             {%for value in products %}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Policy Type <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="policy_type" id="policy_type" class="custom-select" required>
                                             <option value="" hidden>-- Select Case Type --</option>
                                             <option value="FRESH">FRESH</option>
                                             <option value="RENEWAL">RENEWAL</option>
                                             <option value="ROLLOVER">ROLLOVER</option>
                                             <option value="ENDORSEMENT">ENDORSEMENT</option>
                                          </select>
                                       </div>


                                       <div class="col-md-3 mb-4">
                                          <label for="proposal_no">Proposal No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="proposal_no" id="proposal_no"
                                             style="text-transform: uppercase;" required>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="policy_no">Policy No. <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="policy_no" id="policy_no"
                                             style="text-transform: uppercase;" required>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="customer_name">Insured Name <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             class="form-control" name="customer_name"
                                             style="text-transform: uppercase;" required>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Insurer Name<abbr title="" class="text-danger">*</abbr></label>
                                          <select name="insurance_company" class="custom-select" id="insurance_company"
                                             required>
                                             <option value="" hidden> -- Select Insurer -- </option>
                                             {%for value in insurers %}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Serving Office <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_name" class="custom-select" id="sp_name" required>
                                             <option value="" hidden> -- Select Provider -- </option>
                                             {%for value in service_providers%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Office Code <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="sp_brokercode" class="custom-select" id="sp_brokercode"
                                             required>
                                             <option value="" hidden> -- Select Office Code -- </option>
                                             {%for value in broker_codes%}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>

                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk Start Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_start_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Risk End Date <abbr title="Required"
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="risk_flatpickr" data-wrap="true" data-alt-input="true"
                                             data-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="risk_end_date" required
                                                data-input="">
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label for="flatpickr-wrap">Issued Date <abbr title=""
                                                class="text-danger">*</abbr></label>
                                          <div class="input-group input-group-alt flatpickr"
                                             data-toggle="issue_flatpickr" data-wrap="true" data-alt-input="true"
                                             ata-alt-format="F j, Y" data-alt-input-class="form-control"
                                             data-date-format="Y-m-d">
                                             <input type="date" class="form-control flatpickr-input"
                                                placeholder="Choose date..." value="" name="issue_date" required
                                                data-input="">
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Policy Term <abbr title="" class="text-danger">*</abbr></label>
                                          <select id="policy_term" name="policy_term" class="custom-select" required>
                                             <option value="" hidden>-- Select Term --</option>
                                             <option value="1">1</option>
                                             <option value="5">5</option>
                                             <option value="10">10</option>

                                          </select>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>BQP <abbr title="" class="text-danger">*</abbr></label>
                                          <select name="bqp" class="custom-select" required>
                                             <!-- <option value="" hidden>-- Select BQP --</option> -->
                                             {%for value in bqps %}
                                             <option value="{{value}}">{{value}}</option>
                                             {%endfor%}
                                          </select>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label for="employee">Employee <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text"
                                             value="{{user_name}}" class="form-control" name="employee"
                                             style="text-transform: uppercase;  background-color: lightgray;" disabled
                                             required>
                                       </div>

                                       <!-- <div class="col-md-3 mb-4">
                                          <label for="pos">POS <abbr title="" class="text-danger">*</abbr></label><input
                                             id="pos" type="text" value="" data-toggle="modal" data-target="#mdlPOS"
                                             class="form-control" name="pos" style="text-transform: uppercase;" required
                                             readonly>
                                       </div> -->

                                       <div class="col-md-3 mb-4" onkeypress="document.getElementById('pos').click();">
                                          <label for="pos">POS <abbr title="" class="text-danger">*</abbr></label><input
                                             id="pos" type="text" value="" data-toggle="modal" data-target="#mdlPOS"
                                             class="form-control" name="pos" style="text-transform: uppercase;" required
                                             readonly>
                                       </div>


                                       <div class="col-md-3 mb-4">
                                          <label>Proposal <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="proposal" accept=".pdf,image/" id="proposal"
                                                class="custom-file-input">
                                             <label name="lbl_proposal" class="custom-file-label" for="proposal">Choose
                                                file</label>

                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Mandate <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="mandate" accept=".pdf,image/" id="mandate"
                                                class="custom-file-input">
                                             <label name="lbl_mandate" class="custom-file-label" for="mandate">Choose
                                                file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>File)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="policy" accept=".pdf,image/" id="policy"
                                                class="custom-file-input" required>
                                             <label name="lbl_policy" class="custom-file-label" for="policy">Choose
                                                file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Prev. Policy <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="previous_policy" accept=".pdf,image/"
                                                id="previous_policy" class="custom-file-input">
                                             <label name="lbl_previous_policy" class="custom-file-label"
                                                for="previous_policy">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-3 mb-4">
                                          <label>Pan Card <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="pan_card" accept=".pdf,image/" id="pan_card"
                                                class="custom-file-input">
                                             <label name="lbl_pan_card" class="custom-file-label" for="pan_card">Choose
                                                file</label>
                                          </div>
                                       </div>
                                       <div class="col-md-3 mb-4">
                                          <label>Aadhar Card / GST<small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="aadhar_card" accept=".pdf,image/" id="aadhar_card"
                                                class="custom-file-input">
                                             <label name="lbl_aadhar_card" class="custom-file-label"
                                                for="aadhar_card">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-4 mb-4">
                                          <label>Brochure <small>(Only<strong> PDF &amp; Image
                                                </strong>)</small> </label>
                                          <div class="custom-file">
                                             <input type="file" name="inspection_report" accept=".pdf,image/"
                                                id="inspection_report" class="custom-file-input">
                                             <label name="lbl_inspection_report" class="custom-file-label"
                                                for="vehicle_rc">Choose file</label>
                                          </div>
                                       </div>

                                       <div class="col-md-4 mb-4">
                                          <label for="remark">Remarks <abbr title=""
                                                class="text-danger">*</abbr></label><input type="text" value=""
                                             maxlength="255" class="form-control" name="remark"
                                             style="text-transform: uppercase;">
                                       </div>


                                    </div>

                                 </fieldset>
                                 <p class="mb-4"></p>
                              </div>
                              <!-- /.card-body -->
                           </div>
                           <!-- /.card -->
                        </div>


                        <div class="col-lg-3 col-md-3 col-sm-12">

                           <div class="card">

                              <div class="card-body">
                                 <!-- .card-body -->
                                 <h4 class="card-title mb-3"> Premium Details </h4>
                                 <!-- grid row -->
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="od">OD Premium <abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue2()" value="" class="form-control col-lg-6 " name="od"
                                       id="od" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="tp">TP/Terrorism<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text"
                                       oninput="calculateValue2()" value="" class="form-control col-lg-6 " name="tpt"
                                       id="tpt" maxlength="10" required>
                                 </div>
                                 <div class="row mb-2">
                                    <label class="col-lg-5">Net Premium</label><input type="text" name="net" value=""
                                       class="form-control col-lg-6  bg-light" id="net" maxlength="10" readonly=""
                                       required tabindex="-1">
                                 </div>

                                 <div class="row mb-2">
                                    <label class="col-lg-5" for="gst">GST 18%<abbr title=""
                                          class="text-danger">*</abbr></label><input type="text" value=""
                                       class="form-control col-lg-6 bg-light" name="gst" id="gst" maxlength="10"
                                       required readonly tabindex="-1">
                                 </div>

                                 <div class="row mb-2">
                                    <label class="col-lg-5">Total=(Net+GST) </label><input type="text" name="total"
                                       value="" class="form-control  col-lg-6 bg-light" id="totalnet" readonly=""
                                       maxlength="10" required tabindex="-1">
                                 </div>


                                 <div class="row mb-2">
                                    <label class="col-lg-5 pr-0 ">Payment <br> Mode</label>
                                    <select class="custom-select col-lg-6" name="payment_mode" required>
                                       <option value="" hidden> -- Select Payment Mode -- </option>
                                       <option value="ONLINE" selected>ONLINE</option>
                                       <option value="CHEQUE"> CHEQUE</option>
                                       <option value="CASH">CASH</option>
                                    </select>
                                 </div>

                              </div>


                           </div>

                           <script>
                              function calculateAgentPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    agent_od_reward = document.getElementById('agent_od_reward').value
                                    agent_od_amount = document.getElementById('agent_od_amount')
                                    agent_od_amount.value = od * agent_od_reward / 100

                                    tp = document.getElementById('tpt').value
                                    agent_tp_reward = document.getElementById('agent_tp_reward').value
                                    agent_tp_amount = document.getElementById('agent_tp_amount')
                                    agent_tp_amount.value = tp * agent_tp_reward / 100

                                 } catch (error) {
                                 }
                              }

                              function calculateSelfPayout() {
                                 try {

                                    od = document.getElementById('od').value
                                    tpt = document.getElementById('tpt').value

                                    self_od_reward_value = document.getElementById('self_od_reward').value
                                    self_tp_reward_value = document.getElementById('self_tp_reward').value

                                    document.getElementById('self_od_amount').value = od * self_od_reward_value / 100
                                    document.getElementById('self_tp_amount').value = tpt * self_tp_reward_value / 100

                                 } catch (error) {
                                 }
                              }

                           </script>

                        </div>

                     </div>


                     {% endif %}

               </div>
               <hr>

               <style>
                  .text-blue116 {
                     color: rgb(116, 48, 249);
                     /* font-weight: bold; */
                     font-weight: 550;
                  }
               </style>

               <div class="form-row">
                  <div class="col-md-12 col-sm-12">
                     <div id="payoutSection" class="card card-inverse " style=" background-color: rgb(110, 17, 244);">
                        <!-- .card -->
                        <div class="card-header p-2">
                           <h4 class="card-title mb-1">Payouts</h4>
                        </div>
                        <div class="card-body">
                           <p><span class="icofont icofont-hand-right ml-1"></span> The Payout will be shown as
                              per the Policy Details</p>
                           <p><span class="icofont icofont-hand-right ml-1"></span> You can add manual Payout
                              after the Policy saved</p>
                           <div class="text-center">

                              {% if is_motor_form %}
                              <!-- <button hidden type="submit" name="submit" class="btn btn-success w-100p">Save</button> -->

                              <a href="#">
                                 <button type="button" class="btn w-100p text-blue116"
                                    style=" background-color: white; " onclick="sendPolicyData()">Save
                                 </button>
                              </a>
                              {% else %}
                              <button type="submit" name="submit" class="btn w-100p text-blue116"
                                 style=" background-color: white; ">Save</button>
                              {% endif %}

                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               </form>
            </div>

         </div>
      </div>
   </div>
   </div>

   <div class="modal fade" id="mdlPOS">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title"> POS </h5>
            </div>
            <div class="modal-body ">
               <div class="form-row">
                  <div class="col-md-12 col-sm-12 mb-2">
                     <select id="agents" class="custom-select select2 select2-hidden-accessible"
                        data-parsley-required="true" tabindex="-1" aria-hidden="true" on
                        onchange="get_POS_from_Modal()">
                        <option value=""> -- Select POS --</option>
                        {%for value in agents %}
                        <option value={{value}}>{{value}}</option>
                        {%endfor%}
                     </select>
                  </div>

                  <div class="col-md-12 col-sm-12">
                     <input id="inp_agent" type="text" value="" class="form-control" name="inp_agent" disabled
                        style="text-transform: uppercase;" title="POS should be automatically fetched">
                  </div>
               </div>

               <button class="mt-4 btn btn-primary" style="margin-bottom: -60px;" onclick="add_new_agent()">Add New
                  POS</button>

               <div class="modal-footer">
                  <button id="btnExit" type="button" class="btn btn-secondary w-100p"
                     data-dismiss="modal">Close</button>
               </div>
            </div>

         </div>

      </div>

   </div>

   <div class="modal fade" id="mdlFormData">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title"> Select Policy </h5>
            </div>
            <div class="modal-body ">
               <div class="form-row mb-6">
                  <div class="col-md-8 col-sm-12">
                     <select id="formDataSelect" class="custom-select " data-parsley-required="true" tabindex="-1"
                        aria-hidden="true">
                        <option value=""> -- Select Policy --</option>
                     </select>
                  </div>
                  <div class="col-md-4 col-sm-12">
                     <button class="mb-2 btn btn-primary" onclick="viewFormData()">View</button>
                     <button class="mb-2 btn btn-primary" onclick="clearFormData()">Clear</button>
                  </div>
               </div>
            </div>

         </div>

      </div>
   </div>

</main>


{% comment %}
<script src="{%static 'js/jquery.min.js' %}"></script> {% endcomment %}
<script src="{%static 'js/popper.min.js' %}"></script>
<script src="{%static 'js/bootstrap.min.js' %}"></script><!-- END BASE JS -->
<!-- BEGIN PLUGINS JS -->
<script src="{% static 'js/pace.min.js' %}"></script>
<script src="{% static 'js/stacked-menu.min.js' %}"></script>
<script src="{% static 'js/perfect-scrollbar.min.js'%}"></script><!-- END PLUGINS JS -->
<!-- Parsley -->
<script src="{%static 'js/parsley.js' %}"></script>
<!-- BEGIN THEME JS -->
<script src="{%static 'js/theme.js' %}"></script>
<script src="{%static 'js/toastr.min.js' %}"></script>
<script src="{%static 'js/flatpickr.min.js' %}"></script>
<script src="{%static 'js/select2.full.min.js' %}"></script>
<script src="{%static 'js/moment.js' %}"></script>
<script src="{%static 'js/mask-as-number.min.js' %}"></script>
<script src="{%static 'js/jquery.dataTables.min.js' %}"></script>
<script src="{%static 'js/dataTables.bootstrap.js' %}"></script>
<script src="{%static 'js/jquery.form.js' %}"></script>
<script src="{%static 'js/custom.min.js' %}"></script>
{% comment %}
<script src="{%static 'js/insurance.min.js' %}"></script> {% endcomment %}


<script>
   function myFunction() {
      document.getElementById("registration_no").value = document.getElementById("registration_no").value.toUpperCase();
      var x = document.getElementById("registration_no").value;
      document.getElementById("demo").innerHTML = x.slice(0, 4);

      if (x.startsWith('AN')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Andama And Nicobar Island') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('AP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Andhra Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('AR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Arunachal Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('AS')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Assam') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('BR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Bihar') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('CH')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Chandigarh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('CG')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Chattisgarh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('DD')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Daman And Diu') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('DL')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Delhi') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('GA')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'GOA') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('GJ')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Gujrat') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('HR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Haryana') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('HP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Himachal Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('JK')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Jammu And Kashmir') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('JH')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Jharkhand') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('KA')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Karnataka') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('KL')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Kerala') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('LD')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Lakshadweep') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('LA')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Leh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Madhya Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MH')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Maharashtra') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MN')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Manipur') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('ML')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Meghalaya') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('MZ')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Mizoram') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('NL')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Nagaland') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('OD')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Odisha') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('PY')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Puducherry') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('PB')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Punjab') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('RJ')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Rajasthan') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('SK')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Sikkim') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('TN')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Tamil Nadu') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('TR')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Telangana') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('TS')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Telangana') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('UK')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Uttrakhand') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('UP')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'Uttar Pradesh') {
               rto_state[index].selected = true;
            }
         }
      }
      else if (x.startsWith('WB')) {
         var rto_state = document.getElementById("rto_state");
         for (let index = 0; index < rto_state.options.length; index++) {

            if (rto_state[index].value == 'West Bengal') {
               rto_state[index].selected = true;
            }
         }
      }

   }
</script>

<script>

   function calculateValue() {

      try {
         calc()
         addGST()
         addSubTotal()


      } catch (error) { }

   }

   function calc() {
      // Removes space      

      document.getElementById("od").value = document.getElementById("od").value.toString().trim()
      document.getElementById("tpt").value = document.getElementById("tpt").value.toString().trim()

      od = parseFloat(document.getElementById("od").value);
      tpt = parseFloat(document.getElementById("tpt").value);

      document.getElementById("net").value = Number(od + tpt).toFixed((2))

   }

   function addGST() {
      net = parseFloat(document.getElementById("net").value);
      gst = parseFloat(document.getElementById("gst").value);
      gstt = parseFloat(document.getElementById("gstt").value);

      try {
         vc = document.getElementById('vehicle_catagory').value
         if (vc == 'GCV-PUBLIC CARRIER OTHER THAN 3 W' || vc == '3 WHEELER GCV-PUBLIC CARRIER') {
            document.getElementById("gst").value = Number(od * 18 / 100).toFixed((2))
            document.getElementById("gstt").value = Number(tpt * 12 / 100).toFixed((2))
         }
         else {
            document.getElementById("gst").value = Number(net * 18 / 100).toFixed((2))
         };
      }
      catch { }
   }

   function addSubTotal() {
      net = parseFloat(document.getElementById("net").value);
      gst = parseFloat(document.getElementById("gst").value);
      gstt = parseFloat(document.getElementById("gstt").value);

      document.getElementById("totalnet").value = Number(net + gst + gstt).toFixed((2))
   }


   function calculateValue2() {

      try {
         calc2()
         addGST2()
         addSubTotal2()

      } catch (error) { }

   }


   function calc2() {
      // Removes space      

      document.getElementById("od").value = document.getElementById("od").value.toString().trim()
      document.getElementById("tpt").value = document.getElementById("tpt").value.toString().trim()

      od = parseFloat(document.getElementById("od").value);
      tpt = parseFloat(document.getElementById("tpt").value);

      document.getElementById("net").value = Number(od + tpt).toFixed((2))

   }

   function addGST2() {
      try {
         od = parseFloat(document.getElementById("od").value);
         net = parseFloat(document.getElementById("net").value);
         document.getElementById("gst").value = Number(od * 18 / 100).toFixed((2))
      }
      catch { }
   }

   function addSubTotal2() {
      net = parseFloat(document.getElementById("net").value);
      gst = parseFloat(document.getElementById("gst").value);

      document.getElementById("totalnet").value = Number(net + gst).toFixed((2))
   }

   function setCategoryOnChange() {
      value = document.getElementById('vehicle_catagory').value

      coverage_typeDiv = document.getElementById('coverage_typeDiv')
      cubic_capacityDiv = document.getElementById('cubic_capacityDiv')
      seating_capacityDiv = document.getElementById('seating_capacityDiv')
      gvwDiv = document.getElementById('gvwDiv')
      gsttDiv = document.getElementById('gsttDiv')

      if (value == 'TWO WHEELER' || value == 'TWO WHEELER SCOOTER' || value == 'TWO WHEELER BIKE') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         // Cubic_ capacity options
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT CUBIC CAPACITY --'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '75CC-150CC'
         newoption.innerHTML = '75CC-150CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '150CC-350CC'
         newoption.innerHTML = '150CC-350CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'ABOVE 350CC'
         newoption.innerHTML = 'ABOVE 350CC'
         cubic_capacity.options.add(newoption);

         // Coverage type
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+4 YEAR PACKAGE'
         newoption.innerHTML = '1+4 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '5 YEAR TP'
         newoption.innerHTML = '5 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);


      }

      else if (value == 'TWO WHEELER COMMERCIAL') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacity').required = true
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false


         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         // Cubic_ capacity options
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT CUBIC CAPACITY --'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '75CC-150CC'
         newoption.innerHTML = '75CC-150CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '150CC-350CC'
         newoption.innerHTML = '150CC-350CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'ABOVE 350CC'
         newoption.innerHTML = 'ABOVE 350CC'
         cubic_capacity.options.add(newoption);

         // Coverage type
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+4 YEAR PACKAGE'
         newoption.innerHTML = '1+4 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '5 YEAR TP'
         newoption.innerHTML = '5 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);

      }

      else if (value == 'PRIVATE CAR' | value == 'TRADE RISK') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         // Cubic_ capacity options
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT CUBIC CAPACITY --'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'BELOW 1000CC'
         newoption.innerHTML = 'BELOW 1000CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1000CC-1500CC'
         newoption.innerHTML = '1000CC-1500CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'ABOVE 1500CC'
         newoption.innerHTML = 'ABOVE 1500CC'
         cubic_capacity.options.add(newoption);

         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == 'GCV-PUBLIC CARRIER OTHER THAN 3 W') {

         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = false
         document.getElementById('gvw').required = true
         document.getElementById('gsttDiv').hidden = false
         document.getElementById('gstt').required = true

         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == '3 WHEELER PCV') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacity').required = true
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         coverage_type.innerHTML = ''

         // Coverage type        
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == '3 WHEELER GCV-PUBLIC CARRIER') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacity').required = true
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false


         document.getElementById('gvwDiv').hidden = false
         document.getElementById('gvw').required = true
         document.getElementById('gsttDiv').hidden = false
         document.getElementById('gstt').required = true

         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP Only'
         newoption.innerHTML = 'TP Only'
         coverage_type.options.add(newoption);
      }

      else if (value == 'TAXI 4 WHEELER') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('cubic_capacityDiv').hidden = false
         document.getElementById('seating_capacity').required = true
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         cubic_capacity.innerHTML = ''
         coverage_type.innerHTML = ''

         // Cubic_ capacity options
         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT CUBIC CAPACITY --'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'BELOW 1000CC'
         newoption.innerHTML = 'BELOW 1000CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1000CC-1500CC'
         newoption.innerHTML = '1000CC-1500CC'
         cubic_capacity.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'ABOVE 1500CC'
         newoption.innerHTML = 'ABOVE 1500CC'
         cubic_capacity.options.add(newoption);

         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == 'BUS AND OTHERS') {
         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('coverage_type').required = true

         document.getElementById('seating_capacityDiv').hidden = true
         document.getElementById('seating_capacity').required = false

         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false

         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         document.getElementById('seating_capacityDiv1').hidden = false

         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

      }

      else if (value == 'MISC-D SPECIAL VEHICLE') {
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacity').required = true
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false
         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('coverage_type').required = true

         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);

      }

      else if (value == 'SCHOOL BUS-SCHOOL NAME') {
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false

         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacity').required = true
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false
         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0


         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('coverage_type').required = true
         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }

      else if (value == 'SCHOOL BUS-INDIVIDUAL NAME') {
         document.getElementById('cubic_capacityDiv').hidden = true
         document.getElementById('cubic_capacity').required = false
         document.getElementById('coverage_typeDiv').hidden = true
         document.getElementById('coverage_type').required = false
         document.getElementById('seating_capacityDiv').hidden = false
         document.getElementById('seating_capacity').required = true
         document.getElementById('seating_capacityDiv1').hidden = true
         document.getElementById('seating_capacity1').required = false
         document.getElementById('gvwDiv').hidden = true
         document.getElementById('gvw').required = false
         document.getElementById('gsttDiv').hidden = true
         document.getElementById('gstt').required = false
         document.getElementById('gstt').value = 0

         console.log(document.getElementById('vehicle_catagory').value)

         document.getElementById('coverage_typeDiv').hidden = false
         document.getElementById('coverage_type').required = true
         // Coverage Type
         coverage_type = document.getElementById('coverage_type')
         coverage_type.innerHTML = ''

         var newoption = document.createElement("option");
         newoption.value = ''
         newoption.innerHTML = '-- SELECT COVERAGE TYPE --'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1 YEAR PACKAGE'
         newoption.innerHTML = '1 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '1+2 YEAR PACKAGE'
         newoption.innerHTML = '1+2 YEAR PACKAGE'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = '3 YEAR TP'
         newoption.innerHTML = '3 YEAR TP'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'TP ONLY'
         newoption.innerHTML = 'TP ONLY'
         coverage_type.options.add(newoption);

         var newoption = document.createElement("option");
         newoption.value = 'OD ONLY'
         newoption.innerHTML = 'OD ONLY'
         coverage_type.options.add(newoption);
      }

      try {
         calculateValue()
      } catch (error) {
      }
   }

   function addSeatingCapacity() {
      try {
         var seating_capacity1 = document.getElementById('seating_capacity1')
         var value = document.getElementById('seating_capacity1').value

         if (value) {
            // seating capacity
            var newoption = document.createElement("option");
            newoption.value = value
            newoption.innerHTML = value
            document.getElementById('seating_capacity').innerHTML = ''
            document.getElementById('seating_capacity').options.add(newoption);
         }
      } catch (error) {

      }
   }

   function sortItems(id) {
      $("#" + id).html($("#" + id + " option").sort(function (a, b) {
         return a.text == b.text ? 0 : a.text < b.text ? -1 : 1
      }))
   }

   function get_POS_from_Modal() {
      value = document.getElementById("inp_agent").value = document.getElementById("agents").options[document.getElementById("agents").selectedIndex].text;
      if (value.includes('-- Select POS --')) {
         value = ''
      }
      document.getElementById("pos").value = value.split('|')[0].trim()
   }

   function add_new_agent() {

      hostname = window.location.hostname
      port = window.location.port
      pathname = '/bima_policy/agent/add_agent/'

      href = window.location.origin + pathname

      window.location.replace(href)
   }

   function validateBeforeSend(element_name) {
      var elements = document.getElementsByName(element_name);
      if (elements.length > 0) {
         var proposalNo = elements[0].value;

         if (proposalNo != '') {
            return proposalNo
         }
         else {
            res = element_name + ' is missing'
            return res
         }
      }
   }

   function validateFormData() {

      // validate if values is blank 
      if (validateBeforeSend('proposal_no').includes(' is missing')) return validateBeforeSend('proposal_no')
      if (validateBeforeSend('policy_no').includes(' is missing')) return validateBeforeSend('policy_no')
      if (validateBeforeSend('customer_name').includes(' is missing')) return validateBeforeSend('customer_name')
      if (validateBeforeSend('insurance_company').includes(' is missing')) return validateBeforeSend('insurance_company')
      if (validateBeforeSend('sp_name').includes(' is missing')) return validateBeforeSend('sp_name')
      if (validateBeforeSend('sp_brokercode').includes(' is missing')) return validateBeforeSend('sp_brokercode')
      if (validateBeforeSend('registration_no').includes(' is missing')) return validateBeforeSend('registration_no')
      if (validateBeforeSend('rto_state').includes(' is missing')) return validateBeforeSend('rto_state')
      if (validateBeforeSend('rto_city').includes(' is missing')) return validateBeforeSend('rto_city')
      if (validateBeforeSend('vehicle_makeby').includes(' is missing')) return validateBeforeSend('vehicle_makeby')
      if (validateBeforeSend('vehicle_model').includes(' is missing')) return validateBeforeSend('vehicle_model')
      if (validateBeforeSend('vehicle_catagory').includes(' is missing')) return validateBeforeSend('vehicle_catagory')
      if (validateBeforeSend('vehicle_fuel_type').includes(' is missing')) return validateBeforeSend('vehicle_fuel_type')
      if (validateBeforeSend('mfg_year').includes(' is missing')) return validateBeforeSend('mfg_year')
      if (validateBeforeSend('addon').includes(' is missing')) return validateBeforeSend('addon')
      if (validateBeforeSend('ncb').includes(' is missing')) return validateBeforeSend('ncb')

      if (validateBeforeSend('coverage_type').includes(' is missing')) return validateBeforeSend('coverage_type')
      if (validateBeforeSend('policy_type').includes(' is missing')) return validateBeforeSend('policy_type')
      if (validateBeforeSend('cpa').includes(' is missing')) return validateBeforeSend('cpa')
      // if (validateBeforeSend('risk_start_date').includes(' is missing')) return validateBeforeSend('risk_start_date')
      // if (validateBeforeSend('risk_end_date').includes(' is missing')) return validateBeforeSend('risk_end_date')
      // if (validateBeforeSend('issue_date').includes(' is missing')) return validateBeforeSend('issue_date')
      if (validateBeforeSend('insured_age').includes(' is missing')) return validateBeforeSend('insured_age')
      if (validateBeforeSend('policy_term').includes(' is missing')) return validateBeforeSend('policy_term')
      if (validateBeforeSend('bqp').includes(' is missing')) return validateBeforeSend('bqp')
      if (validateBeforeSend('pos').includes(' is missing')) return validateBeforeSend('pos')

      if (validateBeforeSend('od').includes(' is missing')) return validateBeforeSend('od')
      if (validateBeforeSend('tpt').includes(' is missing')) return validateBeforeSend('tpt')
      if (validateBeforeSend('net').includes(' is missing')) return validateBeforeSend('net')
      if (validateBeforeSend('total').includes(' is missing')) return validateBeforeSend('total')
      if (validateBeforeSend('gst').includes(' is missing')) return validateBeforeSend('gst')
      if (validateBeforeSend('payment_mode').includes(' is missing')) return validateBeforeSend('payment_mode')

      return ''

   }

   function clearAllField() {

      document.getElementsByName('proposal_no')[0].value = ''
      document.getElementsByName('policy_no')[0].value = ''
      document.getElementsByName('customer_name')[0].value = ''
      document.getElementsByName('insurance_company')[0].value = ''

      document.getElementsByName('sp_name')[0].value = ''
      document.getElementsByName('sp_brokercode')[0].value = ''
      document.getElementsByName('registration_no')[0].value = ''
      document.getElementsByName('rto_state')[0].value = ''
      document.getElementsByName('rto_city')[0].value = ''
      document.getElementsByName('vehicle_makeby')[0].value = ''
      document.getElementsByName('vehicle_model')[0].value = ''
      document.getElementsByName('vehicle_catagory')[0].value = ''
      document.getElementsByName('vehicle_fuel_type')[0].value = ''
      document.getElementsByName('mfg_year')[0].value = ''
      document.getElementsByName('addon')[0].value = ''
      document.getElementsByName('ncb')[0].value = ''
      document.getElementsByName('cubic_capacity')[0].value = ''
      document.getElementsByName('gvw')[0].value = ''
      document.getElementsByName('seating_capacity')[0].value = ''
      document.getElementsByName('coverage_type')[0].value = ''
      document.getElementsByName('policy_type')[0].value = ''
      document.getElementsByName('cpa')[0].value = ''
      document.getElementsByName('risk_start_date')[0].value = ''
      document.getElementsByName('risk_end_date')[0].value = ''
      document.getElementsByName('issue_date')[0].value = ''
      document.getElementsByName('insured_age')[0].value = ''
      document.getElementsByName('policy_term')[0].value = ''
      // document.getElementsByName('bqp')[0].value = ''
      // document.getElementsByName('employee')[0].value = ''
      document.getElementsByName('pos')[0].value = ''
      document.getElementsByName('remark')[0].value = ''

      document.getElementsByName('od')[0].value = ''
      document.getElementsByName('tpt')[0].value = ''
      document.getElementsByName('net')[0].value = ''
      document.getElementsByName('gst')[0].value = ''
      document.getElementsByName('gstt')[0].value = ''
      document.getElementsByName('total')[0].value = ''
      document.getElementsByName('payment_mode')[0].value = 'ONLINE'

      document.getElementsByName('proposal')[0].value = ''
      document.getElementsByName('lbl_proposal')[0].innerHTML = 'Choose file'
      document.getElementsByName('mandate')[0].value = ''
      document.getElementsByName('lbl_mandate')[0].innerHTML = 'Choose file'
      document.getElementsByName('policy')[0].value = ''
      document.getElementsByName('lbl_policy')[0].innerHTML = 'Choose file'
      document.getElementsByName('previous_policy')[0].value = ''
      document.getElementsByName('lbl_previous_policy')[0].innerHTML = 'Choose file'
      document.getElementsByName('pan_card')[0].value = ''
      document.getElementsByName('lbl_pan_card')[0].innerHTML = 'Choose file'
      document.getElementsByName('aadhar_card')[0].value = ''
      document.getElementsByName('lbl_aadhar_card')[0].innerHTML = 'Choose file'
      document.getElementsByName('vehicle_rc')[0].value = ''
      document.getElementsByName('lbl_vehicle_rc')[0].innerHTML = 'Choose file'
      document.getElementsByName('inspection_report')[0].value = ''
      document.getElementsByName('lbl_inspection_report')[0].innerHTML = 'Choose file'

      document.getElementsByName("vehicle_catagory")[0].focus()
   }

   function mockAllField() {

      selectOptionByValue('vehicle_catagory', 'TWO WHEELER');
      selectOptionByValue('insurance_company', 'BAJAJ ALLIANZ GIC');
      selectOptionByValue('sp_name', 'ROHTAK');
      selectOptionByValue('sp_brokercode', '124001');
      selectOptionByValue('rto_state', 'UTTAR PRADESH');
      selectOptionByValue('vehicle_makeby', 'HERO MOTOCORP');
      selectOptionByValue('vehicle_model', 'TRUCKSLPT 2518 GVW 35200');
      selectOptionByValue('vehicle_fuel_type', 'PETROL');
      selectOptionByValue('mfg_year', '2023');
      selectOptionByValue('addon', 'YES');
      selectOptionByValue('ncb', 'YES');
      selectOptionByValue('cubic_capacity', 'ABOVE 350CC');
      selectOptionByValue('coverage_type', 'TP ONLY');
      selectOptionByValue('policy_type', 'FRESH');
      selectOptionByValue('cpa', 'YES');
      selectOptionByValue('policy_term', '5');
      selectOptionByValue('bqp', 'SATVEER SINGH');
      selectOptionByValue('payment_mode', 'ONLINE');


      document.getElementsByName('proposal_no')[0].value = 'mock-1'
      document.getElementsByName('policy_no')[0].value = 'mock-1'
      document.getElementsByName('customer_name')[0].value = 'mock-1'
      document.getElementsByName('registration_no')[0].value = 'UP24001'
      document.getElementsByName('rto_city')[0].value = 'BADAUN'
      document.getElementsByName('insured_age')[0].value = '20'
      document.getElementsByName('pos')[0].value = 'NARESH GOYAL'

      document.getElementsByName('od')[0].value = '796'
      document.getElementsByName('tpt')[0].value = '3932'
   }

   var formDataDict = {}
   var formDataList = []

   isLoadedFormData = false

   function viewFormData() {

      foundFormData = formDataList.find(formData => {
         return formData.get('policy_no') === document.getElementById("formDataSelect").value;
      });

      if (foundFormData) {
         document.getElementsByName('proposal_no')[0].value = foundFormData.get('proposal_no')
         document.getElementsByName('policy_no')[0].value = foundFormData.get('policy_no')
         document.getElementsByName('customer_name')[0].value = foundFormData.get('customer_name')
         document.getElementsByName('registration_no')[0].value = foundFormData.get('registration_no')
         document.getElementsByName('rto_city')[0].value = foundFormData.get('rto_city')
         document.getElementsByName('insured_age')[0].value = foundFormData.get('insured_age')
         document.getElementsByName('pos')[0].value = foundFormData.get('pos')
         document.getElementsByName('employee')[0].value = foundFormData.get('employee')
         document.getElementsByName('remark')[0].value = foundFormData.get('remark')

         document.getElementsByName('od')[0].value = foundFormData.get('od')
         document.getElementsByName('tpt')[0].value = foundFormData.get('tpt')
         document.getElementsByName('net')[0].value = foundFormData.get('net')
         document.getElementsByName('gst')[0].value = foundFormData.get('gst')
         document.getElementsByName('gstt')[0].value = foundFormData.get('gstt')
         document.getElementsByName('total')[0].value = foundFormData.get('total')

         document.getElementsByName('risk_start_date')[0].value = foundFormData.get('risk_start_date')
         document.getElementsByName('risk_end_date')[0].value = foundFormData.get('risk_end_date')
         document.getElementsByName('issue_date')[0].value = foundFormData.get('issue_date')

         // select-elements
         selectOptionByValue('insurance_company', foundFormData.get('insurance_company'));
         selectOptionByValue('sp_name', foundFormData.get('sp_name'));
         selectOptionByValue('sp_brokercode', foundFormData.get('sp_brokercode'));
         selectOptionByValue('rto_state', foundFormData.get('rto_state'));
         selectOptionByValue('vehicle_makeby', foundFormData.get('vehicle_makeby'));
         selectOptionByValue('vehicle_model', foundFormData.get('vehicle_model'));
         selectOptionByValue('vehicle_catagory', foundFormData.get('vehicle_catagory'));
         selectOptionByValue('vehicle_fuel_type', foundFormData.get('vehicle_fuel_type'));
         selectOptionByValue('mfg_year', foundFormData.get('mfg_year'));
         selectOptionByValue('addon', foundFormData.get('addon'));
         selectOptionByValue('ncb', foundFormData.get('ncb'));
         selectOptionByValue('cubic_capacity', foundFormData.get('cubic_capacity'));
         selectOptionByValue('gvw', foundFormData.get('gvw'));
         selectOptionByValue('seating_capacity', foundFormData.get('seating_capacity'));
         selectOptionByValue('coverage_type', foundFormData.get('coverage_type'));
         selectOptionByValue('policy_type', foundFormData.get('policy_type'));
         selectOptionByValue('cpa', foundFormData.get('cpa'));
         selectOptionByValue('policy_term', foundFormData.get('policy_term'));
         selectOptionByValue('bqp', foundFormData.get('bqp'));
         selectOptionByValue('payment_mode', foundFormData.get('payment_mode'));

         // selectFile('proposal', foundFormData.get('proposal'))
         // selectFile('mandate', foundFormData.get('mandate'))
         // selectFile('policy', foundFormData.get('policy'))
         // selectFile('previous_policy', foundFormData.get('propoprevious_policysal'))
         // selectFile('pan_card', foundFormData.get('pan_card'))
         // selectFile('aadhar_card', foundFormData.get('aadhar_card'))
         // selectFile('vehicle_rc', foundFormData.get('vehicle_rc'))
         // selectFile('inspection_report', foundFormData.get('inspection_report'))

      }

   }

   function addFormData(policy_no, fData) {

      const foundFormData = formDataList.find(formData => {
         return formData.get('policy_no') === policy_no;
      });

      if (foundFormData) {

      }
      else {
         formDataList.push(fData)

         selectElement = document.getElementById("formDataSelect");
         optionElement = document.createElement("option");
         optionElement.value = policy_no;
         optionElement.text = policy_no;

         selectElement.options.add(optionElement)

         sendFormData(policy_no, fData);

         clearAllField()
      }

   }

   function removeFormData(policy_no) {

      const foundFormData = formDataList.find(formData => {
         return formData.get('policy_no') === policy_no;
      });

      if (foundFormData) {

         formDataList.pop(foundFormData)
         console.log('removed from list');

         selectElement = document.getElementById("formDataSelect");
         options = selectElement.options;
         for (let i = 0; i < options.length; i++) {
            if (options[i].value === policy_no) {
               selectElement.remove(i);
               console.log('removed from options');
               break;
            }
         }

      }
      else {

      }

   }

   function clearFormData() {

      formDataList = []

      selectElement = document.getElementById("formDataSelect");
      options = selectElement.options;
      for (let i = 1; i < options.length; i++) {
         selectElement.remove(i);
      }
      document.getElementById("countFormData").innerHTML = ''

   }

   function sendPolicyData() {

      val = validateFormData()

      if (val.includes(' is missing')) {
         showNotification(('⚠️ ' + val.toUpperCase()));
         return;
      }

      formData = new FormData();
      formData.append('proposal_no', document.getElementsByName('proposal_no')[0].value);
      formData.append('policy_no', document.getElementsByName('policy_no')[0].value);
      formData.append('customer_name', document.getElementsByName('customer_name')[0].value);
      formData.append('insurance_company', document.getElementsByName('insurance_company')[0].value);
      formData.append('sp_name', document.getElementsByName('sp_name')[0].value);
      formData.append('sp_brokercode', document.getElementsByName('sp_brokercode')[0].value);
      formData.append('registration_no', document.getElementsByName('registration_no')[0].value);
      formData.append('rto_state', document.getElementsByName('rto_state')[0].value);
      formData.append('rto_city', document.getElementsByName('rto_city')[0].value);
      formData.append('vehicle_makeby', document.getElementsByName('vehicle_makeby')[0].value);
      formData.append('vehicle_model', document.getElementsByName('vehicle_model')[0].value);
      formData.append('vehicle_catagory', document.getElementsByName('vehicle_catagory')[0].value);
      formData.append('vehicle_fuel_type', document.getElementsByName('vehicle_fuel_type')[0].value);
      formData.append('mfg_year', document.getElementsByName('mfg_year')[0].value);
      formData.append('addon', document.getElementsByName('addon')[0].value);
      formData.append('ncb', document.getElementsByName('ncb')[0].value);
      formData.append('cubic_capacity', document.getElementsByName('cubic_capacity')[0].value);
      formData.append('gvw', document.getElementsByName('gvw')[0].value);
      formData.append('seating_capacity', document.getElementsByName('seating_capacity')[0].value);
      formData.append('coverage_type', document.getElementsByName('coverage_type')[0].value);
      formData.append('policy_type', document.getElementsByName('policy_type')[0].value);
      formData.append('cpa', document.getElementsByName('cpa')[0].value);
      formData.append('risk_start_date', document.getElementsByName('risk_start_date')[0].value);
      formData.append('risk_end_date', document.getElementsByName('risk_end_date')[0].value);
      formData.append('issue_date', document.getElementsByName('issue_date')[0].value);
      formData.append('insured_age', document.getElementsByName('insured_age')[0].value);
      formData.append('policy_term', document.getElementsByName('policy_term')[0].value);
      formData.append('bqp', document.getElementsByName('bqp')[0].value);
      formData.append('pos', document.getElementsByName('pos')[0].value);
      formData.append('employee', document.getElementsByName('employee')[0].value);
      formData.append('remark', document.getElementsByName('remark')[0].value);
      formData.append('od', document.getElementsByName('od')[0].value);
      formData.append('tpt', document.getElementsByName('tpt')[0].value);
      formData.append('net', document.getElementsByName('net')[0].value);
      formData.append('gst', document.getElementsByName('gst')[0].value);
      formData.append('gstt', document.getElementsByName('gstt')[0].value);
      formData.append('total', document.getElementsByName('total')[0].value);
      formData.append('payment_mode', document.getElementsByName('payment_mode')[0].value);
      formData.append('proposal', document.getElementById('proposal').files[0]);
      formData.append('mandate', document.getElementById('mandate').files[0]);
      formData.append('policy', document.getElementById('policy').files[0]);
      formData.append('previous_policy', document.getElementById('previous_policy').files[0]);
      formData.append('pan_card', document.getElementById('pan_card').files[0]);
      formData.append('aadhar_card', document.getElementById('aadhar_card').files[0]);
      formData.append('vehicle_rc', document.getElementById('vehicle_rc').files[0]);
      formData.append('inspection_report', document.getElementById('inspection_report').files[0]);

      // formDataKey = document.getElementById('policy_no').value

      addFormData(formData.get('policy_no'), formData)

      console.log(formDataList);

   }

   function sendFormData(formDataKey, formData) {

      // document.getElementById('notification_div').style.display = "flex";
      // document.getElementById('notification').style.display = 'block';
      // document.getElementById('notification').innerHTML = 'Saving policy...';

      showNotification('⌛️ Getting ready...')

      href = window.location.origin + '/bima_policy/policy/new_entry/'

      $.ajax({
         url: href,
         type: "POST",
         beforeSend: function (xhr) {
            xhr.setRequestHeader('X-CSRFToken', '{{ csrf_token }}');
         },
         data: formData,
         processData: false,
         contentType: false,
         success: function (response) {

            result = JSON.parse(JSON.stringify(response)).toString()
            console.log(result);

            if (result.includes('done:')) {
               // showNotification('⚠️ ' + val);            
               showNotification('✅ ' + 'succeed :'.toUpperCase() + formDataKey.toUpperCase());
               removeFormData(formDataKey)
            }
            else {
               showNotification('❌ ' + 'failed :'.toUpperCase() + + formDataKey.toUpperCase());
               // document.getElementById("countFormData").innerHTML = 'Policies: ' + formDataList.length
               // document.getElementById("countFormData").hidden = false
            }

         },
         error: function (xhr, status, error) {
            console.log(error);
            document.getElementById('notification').innerHTML = error;
            document.getElementById("countFormData").innerHTML = 'Policies: ' + formDataList.length
         }
      });
   }

   function selectOptionByValue(selectId, value) {

      var selectElement = document.getElementsByName(selectId)[0]

      for (var i = 0; i < selectElement.options.length; i++) {
         var option = selectElement.options[i];

         if (option.value === value) {
            option.selected = true;
            break;
         }
      }
   }

   function deSelectOptionByValue(selectId, value) {

      selectElement = document.getElementsByName(selectId)[0]

      for (var i = 0; i < selectElement.options.length; i++) {
         var option = selectElement.options[i];
         option.selected = false;
      }
   }

   function selectFile(element_name, foundFormData) {
      // This method is not used
      const fileInput = document.getElementById(element_name);
      const file = foundFormData.get(element_name);
      const newFileList = new DataTransfer();
      newFileList.items.add(file);
      fileInput.files = newFileList.files;
      console.log('file added to ' + element_name);

   }

   // Get a reference to the input element
   const policy_term = document.getElementById("policy_term");
   // Function to handle the keydown event
   function handleKeyDown(event) {
      if (event.key === "Tab") {
         document.getElementById('pos').click();
         document.getElementById('agents').click();
      }
   }
   // Attach the event listener to the input element
   policy_term.addEventListener("keydown", handleKeyDown);


</script>


<!-- <body onload="mockAllField()">

</body> -->

</html>

{%endblock%}